<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.5.0"/>
    <title>src.design_parser API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../src.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;src</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#UiLoader">UiLoader</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#UiLoader.__init__">UiLoader</a>
                        </li>
                        <li>
                                <a class="variable" href="#UiLoader.special_types">special_types</a>
                        </li>
                        <li>
                                <a class="variable" href="#UiLoader.valid_types">valid_types</a>
                        </li>
                        <li>
                                <a class="variable" href="#UiLoader.valid_layouts">valid_layouts</a>
                        </li>
                        <li>
                                <a class="variable" href="#UiLoader.valid_flow">valid_flow</a>
                        </li>
                        <li>
                                <a class="variable" href="#UiLoader.data">data</a>
                        </li>
                        <li>
                                <a class="variable" href="#UiLoader.ui">ui</a>
                        </li>
                        <li>
                                <a class="variable" href="#UiLoader.widgets">widgets</a>
                        </li>
                        <li>
                                <a class="variable" href="#UiLoader.styles">styles</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.load_json_file">load_json_file</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.initialize_screen">initialize_screen</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.parse_ui">parse_ui</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.parse_element">parse_element</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.create_widget">create_widget</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.create_container">create_container</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.configure_flex_layout">configure_flex_layout</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.configure_grid_layout">configure_grid_layout</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.create_random_widget">create_random_widget</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.place_widget_in_grid">place_widget_in_grid</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.create_style">create_style</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.convert_value">convert_value</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.apply_style">apply_style</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.update_screen">update_screen</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.get_root_widget">get_root_widget</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.get_ui">get_ui</a>
                        </li>
                        <li>
                                <a class="function" href="#UiLoader.cleanup">cleanup</a>
                        </li>
                </ul>

            </li>
    </ul>


            <footer>Created and written by HackXIt &lt;hackxit@gmail.com&gt; (Nikolaus Rieder)</footer>

        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../src.html">src</a><wbr>.design_parser    </h1>

                
                        <input id="mod-design_parser-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-design_parser-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="kn">import</span> <span class="nn">sys</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">implementation</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;micropython&quot;</span><span class="p">:</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a>    <span class="kn">from</span> <span class="nn">display_driver_utils</span> <span class="kn">import</span> <span class="n">driver</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a>    <span class="kn">import</span> <span class="nn">lvgl</span> <span class="k">as</span> <span class="nn">lv</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a>    <span class="kn">import</span> <span class="nn">json</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a>    <span class="kn">import</span> <span class="nn">random</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a>    <span class="kn">from</span> <span class="nn">ui</span> <span class="kn">import</span> <span class="n">UI</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a>    <span class="kn">from</span> <span class="nn">widget</span> <span class="kn">import</span> <span class="o">*</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a>    <span class="kn">from</span> <span class="nn">global_definitions</span> <span class="kn">import</span> <span class="n">widget_types</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a><span class="k">else</span><span class="p">:</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a>    <span class="kn">import</span> <span class="nn">mock</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a>    <span class="kn">import</span> <span class="nn">random</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a>    <span class="kn">import</span> <span class="nn">json</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a>    <span class="kn">from</span> <span class="nn">.mock.display</span> <span class="kn">import</span> <span class="n">driver</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a>    <span class="kn">from</span> <span class="nn">.mock.lvgl</span> <span class="kn">import</span> <span class="n">lv</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a>    <span class="kn">from</span> <span class="nn">.ui</span> <span class="kn">import</span> <span class="n">UI</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a>    <span class="kn">from</span> <span class="nn">.widget</span> <span class="kn">import</span> <span class="o">*</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a>    <span class="kn">from</span> <span class="nn">.global_definitions</span> <span class="kn">import</span> <span class="n">widget_types</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="k">class</span> <span class="nc">UiLoader</span><span class="p">:</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="sd">    A class to load and parse UI designs from JSON files.</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="sd">    **Class Attributes:**</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="sd">    - `special_types` A list of special widget types that require custom creation logic.</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="sd">    - `valid_types` A list of all valid widget types that can be created.</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a><span class="sd">    - `valid_layouts` A list of valid layout types for container widgets.</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="sd">    - `valid_flow` A list of valid flow types for flex layout containers.</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="sd">    - `_options` The key for the options property in a container widget.</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a><span class="sd">    **Object Attributes:**</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a><span class="sd">    - `data` The JSON data loaded from the file.</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a><span class="sd">    - `ui` The &#39;ui&#39; object from the JSON data.</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="sd">    - `widgets` A dictionary to store references to created widgets.</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a><span class="sd">    - `styles` A dictionary to store references to created styles.</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a><span class="sd">    - `width` The width of the screen.</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span class="sd">    - `height` The height of the screen.</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a><span class="sd">    - `title` The title of the window (not used, reference for author).</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="sd">    - `screen` The display driver object.</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a><span class="sd">    - `root_widget` The root widget object of the UI.</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>    <span class="n">special_types</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;container&quot;</span><span class="p">,</span> <span class="s2">&quot;random&quot;</span><span class="p">]</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>    <span class="n">valid_types</span> <span class="o">=</span> <span class="n">special_types</span> <span class="o">+</span> <span class="n">widget_types</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>    <span class="n">valid_layouts</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="s2">&quot;grid&quot;</span><span class="p">,</span> <span class="s2">&quot;flex&quot;</span><span class="p">]</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>    <span class="n">valid_flow</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;row&quot;</span><span class="p">,</span> <span class="s2">&quot;column&quot;</span><span class="p">,</span> <span class="s2">&quot;row_wrap&quot;</span><span class="p">,</span> <span class="s2">&quot;column_wrap&quot;</span><span class="p">,</span> <span class="s2">&quot;row_reverse&quot;</span><span class="p">,</span> <span class="s2">&quot;column_reverse&quot;</span><span class="p">]</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>    <span class="n">_options</span> <span class="o">=</span> <span class="s2">&quot;options&quot;</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>        <span class="c1"># Load JSON data</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_json_file</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>        <span class="k">if</span> <span class="s2">&quot;ui&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;ui&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JSON must have &#39;ui&#39; property of type dict: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;ui&quot;</span><span class="p">]</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a>        <span class="c1"># Create a dictionary to store references to created widgets</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>    <span class="k">def</span> <span class="nf">load_json_file</span><span class="p">(</span><span class="n">filepath</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a><span class="sd">        **Params:**</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a><span class="sd">        - `filepath` The path to the JSON file to load.</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a><span class="sd">        **Returns:**</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a><span class="sd">        - `dict` The JSON data loaded from the file.</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a><span class="sd">        Load and return the JSON data from a file.</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>            <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>    
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>    <span class="k">def</span> <span class="nf">initialize_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a><span class="sd">        **Returns:**</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a><span class="sd">        - `driver` The display driver object.</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a><span class="sd">        **Raises:**</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a><span class="sd">        - `ValueError` If the &#39;window&#39; property is missing or invalid.</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a><span class="sd">        - `ValueError` If the &#39;width&#39; property is missing or invalid.</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a><span class="sd">        - `ValueError` If the &#39;height&#39; property is missing or invalid.</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a><span class="sd">        Initialize a display driver in the specified width and height of the JSON data to create a window.</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>        <span class="k">if</span> <span class="s2">&quot;window&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;UI must have &#39;window&#39; property of type dict: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>        <span class="k">if</span> <span class="s2">&quot;width&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;width&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Window must have &#39;width&#39; property of type int: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s1">&#39;window&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>        <span class="k">if</span> <span class="s2">&quot;height&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;height&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Window must have &#39;height&#39; property of type int: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s1">&#39;window&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;width&quot;</span><span class="p">]</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;height&quot;</span><span class="p">]</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>        <span class="k">if</span> <span class="s2">&quot;title&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">]:</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="c1"># FIXME window title is not used</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">screen</span> <span class="o">=</span> <span class="n">driver</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>    <span class="k">def</span> <span class="nf">parse_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a><span class="sd">        **Raises:**</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a><span class="sd">        - `ValueError` If the `root` JSON property is missing or invalid.</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a><span class="sd">        Parse the UI elements under the `root` object of the JSON data.</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>        <span class="k">if</span> <span class="s2">&quot;root&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;root&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;UI must have &#39;root&#39; property of type dict: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_element</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;root&quot;</span><span class="p">])</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">screen_active</span><span class="p">())</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>        <span class="c1"># NOTE The below can be accomplished by setting the width and height of the root widget via style properties</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="o">.</span><span class="n">set_width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="o">.</span><span class="n">set_height</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>    <span class="k">def</span> <span class="nf">parse_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a><span class="sd">        **Params:**</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a><span class="sd">        - `element` The JSON element to parse.</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a><span class="sd">        **Returns:**</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a><span class="sd">        - `lv.obj | lv.button | lv.label | lv.image | lv.line | lv.bar | lv.slider | lv.switch | lv.checkbox | lv.roller | lv.dropdown | lv.textarea | lv.chart` The created widget object based on the element type.</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a><span class="sd">        Parse a widget object JSON element and create the corresponding widget.</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a><span class="sd">        If the element has children, **they will be parsed recursively** and attached to the parent widget.</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a><span class="sd">        If the element has one or more styles, they will be applied to the created widget.</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>        <span class="c1"># Create a widget based on the element type</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>        <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_widget</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>        <span class="c1"># Process child elements if they exist</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>        <span class="k">if</span> <span class="s2">&quot;children&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]:</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>                <span class="n">child_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_element</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>                <span class="k">if</span> <span class="n">child</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;random&quot;</span><span class="p">:</span> <span class="c1"># NOTE Random widget is a special case and places itself</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>                    <span class="k">continue</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>                <span class="n">child_widget</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>                <span class="k">if</span> <span class="s2">&quot;grid&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">[</span><span class="s1">&#39;options&#39;</span><span class="p">][</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]:</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">place_widget_in_grid</span><span class="p">(</span><span class="n">child_widget</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>                    
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>        <span class="k">if</span> <span class="s2">&quot;style&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>                <span class="k">for</span> <span class="n">style</span> <span class="ow">in</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">]:</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">apply_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">apply_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">])</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>        <span class="k">return</span> <span class="n">widget</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>    <span class="k">def</span> <span class="nf">create_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">button</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">label</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">image</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">line</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">bar</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">slider</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">switch</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">checkbox</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">roller</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">dropdown</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">textarea</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="p">:</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a><span class="sd">        **Params:**</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a><span class="sd">        - `element` The JSON element to create the widget from.</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a><span class="sd">        **Returns:**</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a><span class="sd">        - `lv.obj | lv.button | lv.label | lv.image | lv.line | lv.bar | lv.slider | lv.switch | lv.checkbox | lv.roller | lv.dropdown | lv.textarea | lv.chart` The created widget object based on the element type.</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a><span class="sd">        **Raises:**</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a><span class="sd">        - `ValueError` If the widget type is not recognized.</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a><span class="sd">        - `ValueError` If the specified `id` already exists in previously created widgets.</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a><span class="sd">        Create an LVGL widget object based on the type specified in the JSON element.</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>        <span class="n">widget</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>        <span class="n">widget_type</span> <span class="o">=</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>        <span class="k">if</span> <span class="n">widget_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_types</span><span class="p">:</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid widget type: </span><span class="si">{</span><span class="n">widget_type</span><span class="si">}</span><span class="s2">. Valid types are: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">valid_types</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>        <span class="k">if</span> <span class="n">widget_type</span> <span class="o">==</span> <span class="s1">&#39;container&#39;</span><span class="p">:</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_container</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>        <span class="k">elif</span> <span class="n">widget_type</span> <span class="o">==</span> <span class="s2">&quot;random&quot;</span><span class="p">:</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_random_widget</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>        <span class="k">elif</span> <span class="n">widget_type</span> <span class="ow">in</span> <span class="n">widget_mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>            <span class="n">widget</span> <span class="o">=</span> <span class="n">widget_mapping</span><span class="p">[</span><span class="n">widget_type</span><span class="p">](</span><span class="n">element</span><span class="p">)</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>        <span class="k">if</span> <span class="n">widget</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to create widget: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>        <span class="k">if</span> <span class="s1">&#39;width&#39;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>            <span class="n">widget</span><span class="o">.</span><span class="n">set_width</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">])</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>        <span class="k">if</span> <span class="s1">&#39;height&#39;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>            <span class="n">widget</span><span class="o">.</span><span class="n">set_height</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">])</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>        <span class="c1"># Create a unique ID for the widget if it wasn&#39;t provided</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>        <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>            <span class="c1"># Count types of the widget</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>            <span class="n">count</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="mi">1</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="n">widget</span><span class="p">)])</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>            <span class="nb">id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">widget_type</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created widget &#39;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>        <span class="k">elif</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">:</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Widget with ID &#39;</span><span class="si">{</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; already exists. IDs must be unique.&quot;</span><span class="p">)</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">[</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">widget</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created widget &#39;</span><span class="si">{</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>        <span class="k">return</span> <span class="n">widget</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a><span class="c1"># NOTE ------------ SPECIAL CREATION METHODS ------------</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>    <span class="k">def</span> <span class="nf">create_container</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">:</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a><span class="sd">        **Params:**</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a><span class="sd">        - `element` The JSON element to create the container widget from.</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a><span class="sd">        **Returns:**</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a><span class="sd">        - `lv.obj` The created container widget object.</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a><span class="sd">        **Raises:**</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a><span class="sd">        - `ValueError` If the `id` or `options` properties are missing or invalid.</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a><span class="sd">        - `ValueError` If the `layout_type` property is missing or invalid.</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a><span class="sd">        - `ValueError` If the layout type is `grid` or `flex` and the `layout_options` property is missing or invalid.</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a><span class="sd">        Create a container widget based on the JSON element.</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a><span class="sd">        If the layout type is &#39;grid&#39; or &#39;flex&#39;, the &#39;layout_options&#39; property must be present.</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>        <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container widget must have &#39;id&#39; of type str: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>        <span class="k">if</span> <span class="s2">&quot;options&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;options&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container widget must have &#39;options&#39; of type dict: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>        <span class="n">options</span> <span class="o">=</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;options&quot;</span><span class="p">]</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>        <span class="k">if</span> <span class="s2">&quot;layout_type&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">or</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_layouts</span><span class="p">:</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container widget must have &#39;layout_type&#39; property: </span><span class="si">{</span><span class="n">options</span><span class="si">}</span><span class="s2">. Valid options are: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">valid_layouts</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>        <span class="k">if</span> <span class="s1">&#39;grid&#39;</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="s1">&#39;flex&#39;</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]:</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>            <span class="k">if</span> <span class="s2">&quot;layout_options&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_options&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container widget must have &#39;layout_options&#39; property of type dict: </span><span class="si">{</span><span class="n">options</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>        <span class="n">container</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">screen_active</span><span class="p">())</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>        <span class="k">if</span> <span class="n">layout</span> <span class="o">==</span> <span class="s2">&quot;none&quot;</span><span class="p">:</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_layout</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">LAYOUT</span><span class="o">.</span><span class="n">NONE</span><span class="p">)</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>            <span class="c1"># element[&quot;layout_type&quot;] = &quot;none&quot;</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>        <span class="k">elif</span> <span class="n">layout</span> <span class="o">==</span> <span class="s2">&quot;grid&quot;</span><span class="p">:</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">configure_grid_layout</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">options</span><span class="p">[</span><span class="s1">&#39;layout_options&#39;</span><span class="p">])</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>            <span class="c1"># element[&quot;layout_type&quot;] = &quot;grid&quot;</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>        <span class="k">elif</span> <span class="n">layout</span> <span class="o">==</span> <span class="s2">&quot;flex&quot;</span><span class="p">:</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">configure_flex_layout</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">options</span><span class="p">[</span><span class="s1">&#39;layout_options&#39;</span><span class="p">])</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>            <span class="c1"># element[&quot;layout_type&quot;] = &quot;flex&quot;</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>        <span class="k">return</span> <span class="n">container</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>    
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>    <span class="k">def</span> <span class="nf">configure_flex_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">options</span><span class="p">):</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a><span class="sd">        **Params:**</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a><span class="sd">        - `container` The container widget to configure the flex layout for.</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a><span class="sd">        - `options` The options dictionary for the flex layout.</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a><span class="sd">        **Raises:**</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a><span class="sd">        - `ValueError` If the `flow` property is missing or invalid.</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a><span class="sd">        Configure the flex layout of a container widget based on the options provided in the JSON element.</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>        <span class="k">if</span> <span class="s2">&quot;flow&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">or</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;flow&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_flow</span><span class="p">:</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flex layout must have &#39;flow&#39; property: </span><span class="si">{</span><span class="n">options</span><span class="si">}</span><span class="s2">. Valid options are: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">valid_flow</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>        <span class="n">container</span><span class="o">.</span><span class="n">set_layout</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">LAYOUT</span><span class="o">.</span><span class="n">FLEX</span><span class="p">)</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>        <span class="n">flow</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;flow&quot;</span><span class="p">]</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>        <span class="k">if</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;row&quot;</span><span class="p">:</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">ROW</span><span class="p">)</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;column&quot;</span><span class="p">:</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">COLUMN</span><span class="p">)</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;row_wrap&quot;</span><span class="p">:</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">ROW_WRAP</span><span class="p">)</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;column_wrap&quot;</span><span class="p">:</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">COLUMN_WRAP</span><span class="p">)</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;row_reverse&quot;</span><span class="p">:</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">ROW_REVERSE</span><span class="p">)</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;column_reverse&quot;</span><span class="p">:</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">COLUMN_REVERSE</span><span class="p">)</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>    <span class="k">def</span> <span class="nf">configure_grid_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">options</span><span class="p">):</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a><span class="sd">        **Params:**</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a><span class="sd">        - `container` The container widget to configure the grid layout for.</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a><span class="sd">        - `options` The options dictionary for the grid layout.</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a><span class="sd">        **Raises:**</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a><span class="sd">        - `ValueError` If the `grid_dsc` property is missing or invalid.</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a><span class="sd">        - `ValueError` If the `col_dsc` or `row_dsc` properties are missing or invalid.</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a><span class="sd">        Configure the grid layout of a container widget based on the options provided in the JSON element.</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>        <span class="k">if</span> <span class="s2">&quot;grid_dsc&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Grid layout must have &#39;grid_dsc&#39; of type dict: </span><span class="si">{</span><span class="n">options</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>        <span class="n">container</span><span class="o">.</span><span class="n">set_layout</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">LAYOUT</span><span class="o">.</span><span class="n">GRID</span><span class="p">)</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>        <span class="c1"># TODO Need to properly handle grid placements of children with grid layout</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>        <span class="k">if</span> <span class="s2">&quot;col_dsc&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">][</span><span class="s2">&quot;col_dsc&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">list</span> <span class="ow">or</span> <span class="s2">&quot;row_dsc&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">][</span><span class="s2">&quot;row_dsc&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;grid_dsc must have &#39;col_dsc&#39; and &#39;row_dsc&#39; of type list: </span><span class="si">{</span><span class="n">options</span><span class="p">[</span><span class="s1">&#39;grid_dsc&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>        <span class="n">col_dsc</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">][</span><span class="s2">&quot;col_dsc&quot;</span><span class="p">]:</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>            <span class="n">col_dsc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">GRID_CONTENT</span><span class="p">)</span> <span class="c1"># NOTE Hotfix for ChatGPT (always use content for proper sizes)</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>            <span class="c1"># if type(col) is int:</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>            <span class="c1">#     col_dsc.append(col)</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>            <span class="c1"># elif type(col) is str:</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>            <span class="c1">#     if col.endswith(&quot;fr&quot;):</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>            <span class="c1">#         col_dsc.append(lv.grid_fr(int(col.strip(&quot;fr&quot;))))</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>            <span class="c1">#     elif col == &quot;content&quot;:</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>            <span class="c1">#         col_dsc.append(lv.GRID_CONTENT)</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>            <span class="c1">#     else:</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>            <span class="c1">#         raise ValueError(f&quot;Unsupported column description: {col}. Must be an integer, &#39;#fr&#39; value or &#39;content&#39;.&quot;)</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>        <span class="n">row_dsc</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">][</span><span class="s2">&quot;row_dsc&quot;</span><span class="p">]:</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>            <span class="n">row_dsc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">GRID_CONTENT</span><span class="p">)</span> <span class="c1"># NOTE Hotfix for ChatGPT (always use content for proper sizes)</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>            <span class="c1"># if type(row) is int:</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a>            <span class="c1">#     row_dsc.append(row)</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a>            <span class="c1"># elif type(row) is str:</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a>            <span class="c1">#     if row.endswith(&quot;fr&quot;):</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>            <span class="c1">#         row_dsc.append(lv.grid_fr(int(row.strip(&quot;fr&quot;))))</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>            <span class="c1">#     elif row == &quot;content&quot;:</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>            <span class="c1">#         row_dsc.append(lv.GRID_CONTENT)</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>            <span class="c1">#     else:</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>            <span class="c1">#         raise ValueError(f&quot;Unsupported row description: {row}. Must be an integer, &#39;#fr&#39; value or &#39;content&#39;.&quot;)</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>        <span class="n">container</span><span class="o">.</span><span class="n">set_grid_dsc_array</span><span class="p">(</span><span class="n">col_dsc</span><span class="p">,</span> <span class="n">row_dsc</span><span class="p">)</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>    <span class="k">def</span> <span class="nf">create_random_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a><span class="sd">        **Params:**</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a><span class="sd">        - `element` The JSON element to create the random widget from.</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a><span class="sd">        **Returns:**</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a><span class="sd">        - `lv.obj | lv.button | lv.label | lv.image | lv.line | lv.bar | lv.slider | lv.switch | lv.checkbox | lv.roller | lv.dropdown | lv.textarea | lv.chart` The created random widget object.</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a><span class="sd">        **Raises:**</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a><span class="sd">        - `ValueError` If the `parent_id`, `count`, or `widget_list` properties are missing or invalid.</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a><span class="sd">        Create a random widget based on the JSON element.</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a><span class="sd">        A random type is chosen from the &#39;widget_list&#39; property. The chosen type is then passed to the widget creation function.</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a><span class="sd">        This is done X times based on the &#39;count&#39; property.</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>        <span class="k">if</span> <span class="s2">&quot;parent_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;parent_id&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Random widget must have &#39;parent_id&#39; of type str: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>        <span class="k">if</span> <span class="s2">&quot;count&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Random widget must have &#39;count&#39; of type int: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>        <span class="k">if</span> <span class="s2">&quot;widget_list&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;widget_list&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Random widget must have &#39;widget_list&#39; of type list: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">]):</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a>            <span class="n">element</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;widget_list&quot;</span><span class="p">])</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a>            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_widget</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a>            <span class="n">widget</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">[</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;parent_id&quot;</span><span class="p">]])</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a>            <span class="k">if</span> <span class="s2">&quot;style&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>                    <span class="k">for</span> <span class="n">style</span> <span class="ow">in</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">]:</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">apply_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">apply_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">])</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>            <span class="k">if</span> <span class="s2">&quot;placement&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>                <span class="c1"># NOTE Assuming parent is grid layout if &quot;placement&quot; is present</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>                <span class="c1"># FIXME placement should be adjusted for each created random widget, as they can&#39;t all be in the same spot</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">place_widget_in_grid</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a>        <span class="k">return</span> <span class="n">widget</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a>    
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>    <span class="k">def</span> <span class="nf">place_widget_in_grid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">child_element</span><span class="p">):</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a><span class="sd">        **Params:**</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a><span class="sd">        - `widget` The widget to place in the grid container.</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a><span class="sd">        - `child_element` The JSON element of the child widget to place in the grid container.</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a><span class="sd">        **Raises:**</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a><span class="sd">        - `ValueError` If the `placement` property is missing or invalid.</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a><span class="sd">        - `ValueError` If the `col_pos`, `col_span`, `row_pos`, or `row_span` properties are missing or invalid.</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a><span class="sd">        Place the provided child widget in the grid container widget based on the &#39;placement&#39; property in the child JSON element.</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>        <span class="k">if</span> <span class="s2">&quot;placement&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;placement&#39; property of type &#39;dict&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>        <span class="c1"># placement options: column_align: Unknown, col_pos: int, col_span: int, row_align: Unknown, row_pos: int, row_span: int</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>        <span class="k">if</span> <span class="s2">&quot;col_pos&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;col_pos&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;col_pos&#39; property of type &#39;int&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>        <span class="k">if</span> <span class="s2">&quot;col_span&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;col_span&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;col_span&#39; property of type &#39;int&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>        <span class="k">if</span> <span class="s2">&quot;row_pos&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;row_pos&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;row_pos&#39; property of type &#39;int&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>        <span class="k">if</span> <span class="s2">&quot;row_span&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;row_span&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span> 
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;row_span&#39; property of type &#39;int&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>        <span class="n">row_align</span> <span class="o">=</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;row_align&quot;</span><span class="p">,</span> <span class="s2">&quot;space_evenly&quot;</span><span class="p">)</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>        <span class="n">col_align</span> <span class="o">=</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;col_align&quot;</span><span class="p">,</span> <span class="s2">&quot;space_evenly&quot;</span><span class="p">)</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>        <span class="n">row_align</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">GRID_ALIGN</span><span class="p">,</span> <span class="n">row_align</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">lv</span><span class="o">.</span><span class="n">GRID_ALIGN</span><span class="o">.</span><span class="n">SPACE_EVENLY</span><span class="p">)</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>        <span class="n">col_align</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">GRID_ALIGN</span><span class="p">,</span> <span class="n">col_align</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">lv</span><span class="o">.</span><span class="n">GRID_ALIGN</span><span class="o">.</span><span class="n">SPACE_EVENLY</span><span class="p">)</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>        <span class="n">widget</span><span class="o">.</span><span class="n">set_grid_cell</span><span class="p">(</span><span class="n">col_align</span><span class="p">,</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;col_pos&quot;</span><span class="p">],</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;col_span&quot;</span><span class="p">],</span> <span class="n">row_align</span><span class="p">,</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;row_pos&quot;</span><span class="p">],</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;row_span&quot;</span><span class="p">])</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a><span class="c1"># TODO Should update the JSON tree with all randomly created values to export the UI back to JSON again</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>    
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a><span class="c1"># NOTE ------------ STYLE CREATION METHODS ------------</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>    
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>    <span class="k">def</span> <span class="nf">create_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style_def</span><span class="p">):</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a><span class="sd">        **Params:**</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a><span class="sd">        - `style_def` The JSON style definition to create the style object from.</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a><span class="sd">        **Returns:**</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a><span class="sd">        - `lv.style_t` The created style object.</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a><span class="sd">        Create an LVGL style object based on the style definition provided in the JSON data.</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a><span class="sd">        Provided style property values are converted to the required type, according to conversion rules of the called conversion function.</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a><span class="sd">        If a style property is not recognized, a message is printed to the console and the property is skipped.</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a><span class="sd">        If value conversion fails, a message is printed to the console and the property is skipped.</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating style: </span><span class="si">{</span><span class="n">style_def</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>        <span class="n">style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">style_t</span><span class="p">()</span> <span class="c1"># FIXME missing parameter &#39;args&#39; of type &#39;_style_t_type&#39; (unresolved) - ignore?</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>        <span class="n">style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a>        <span class="k">for</span> <span class="n">prop</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">style_def</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>            <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;selector&quot;</span><span class="p">:</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>                <span class="k">continue</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>            <span class="n">setter_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;set_</span><span class="si">{</span><span class="n">prop</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="n">setter_name</span><span class="p">):</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>                <span class="n">setter</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="n">setter_name</span><span class="p">)</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>                <span class="n">converted_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_value</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a>                <span class="k">if</span><span class="p">(</span><span class="n">converted_value</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported value conversion: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> for style property </span><span class="si">{</span><span class="n">prop</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>                    <span class="k">continue</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>                    <span class="n">setter</span><span class="p">(</span><span class="n">converted_value</span><span class="p">)</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a>                <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TypeError setting style property </span><span class="si">{</span><span class="n">prop</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported style property: </span><span class="si">{</span><span class="n">prop</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a>        <span class="k">return</span> <span class="n">style</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a>    
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>    <span class="k">def</span> <span class="nf">convert_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prop_name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a><span class="sd">        **Params:**</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a><span class="sd">        - `prop_name` The name of the property to convert the value for.</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a><span class="sd">        - `value` The value to convert to the required type.</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a><span class="sd">        **Returns:**</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a><span class="sd">        - `int | str | lv.color_t | lv.font_t | lv.align_t | lv.OPA | None` The converted value based on the property name.</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a><span class="sd">        - `None` If the conversion fails.</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a><span class="sd">        Convert the provided value to the required type based on the property name.</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a><span class="sd">        If there is no conversion available for the property, None is returned. (i.e. conversion fails)</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a>        <span class="c1"># This function converts the value based on the property name</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>        <span class="k">if</span> <span class="s2">&quot;color&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a>            <span class="n">converted_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">),</span> <span class="mi">16</span><span class="p">)</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;set_</span><span class="si">{</span><span class="n">prop_name</span><span class="si">}</span><span class="s2">: Color property conversion:</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> =&gt; </span><span class="si">{</span><span class="n">converted_value</span><span class="si">:</span><span class="s2">x</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a>            <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">color_hex</span><span class="p">(</span><span class="n">converted_value</span><span class="p">)</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a>        <span class="k">elif</span> <span class="s2">&quot;font&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Font property: </span><span class="si">{</span><span class="n">prop_name</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a>            <span class="c1"># TODO micropython doesn&#39;t support font ?</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a>        <span class="k">elif</span> <span class="s2">&quot;align&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a>            <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;center&quot;</span><span class="p">:</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">CENTER</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;top-left&quot;</span><span class="p">:</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">TOP_LEFT</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;top-right&quot;</span><span class="p">:</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">TOP_RIGHT</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;top&quot;</span><span class="p">:</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">TOP_MID</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;bottom-left&quot;</span><span class="p">:</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">BOTTOM_LEFT</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;bottom-right&quot;</span><span class="p">:</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">BOTTOM_RIGHT</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;bottom&quot;</span><span class="p">:</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">BOTTOM_MID</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;left&quot;</span><span class="p">:</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">LEFT_MID</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;right&quot;</span><span class="p">:</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">RIGHT_MID</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">DEFAULT</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a>        <span class="k">elif</span> <span class="s2">&quot;opa&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prop_name</span><span class="si">}</span><span class="s2">: Invalid opacity value: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> (expected int)&quot;</span><span class="p">)</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a>            <span class="n">opacity</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>            <span class="k">if</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_0</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_10</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_20</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_30</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_40</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_50</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_60</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_70</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_80</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">9</span><span class="p">:</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_90</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_100</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">TRANSP</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>        <span class="k">elif</span> <span class="s2">&quot;width&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span> <span class="ow">or</span> <span class="s2">&quot;height&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>                <span class="c1"># FIXME Percentage values should be calculated in relation to the parent widget</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>                <span class="n">new_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;width&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span> <span class="k">else</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Size property conversion: </span><span class="si">{</span><span class="n">prop_name</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> =&gt; </span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>                <span class="k">return</span> <span class="n">new_value</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>            <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a>                <span class="k">return</span> <span class="n">value</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a>        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>            <span class="k">return</span> <span class="n">value</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a>        <span class="k">elif</span> <span class="n">prop_name</span> <span class="o">==</span> <span class="s2">&quot;selector&quot;</span><span class="p">:</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">()):</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a>                <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a>            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">STATE</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">()):</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a>                <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">STATE</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a>        <span class="c1"># TODO Add more conversions as needed for other property types</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a>    <span class="k">def</span> <span class="nf">apply_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">style_name</span><span class="p">):</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a><span class="sd">        **Params:**</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a><span class="sd">        - `widget` The widget object to apply the style to.</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a><span class="sd">        - `style_name` The name of the style to apply to the widget.</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a><span class="sd">        **Raises:**</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a><span class="sd">        - `ValueError` If the style does not exist in the JSON data.</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a>
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a><span class="sd">        Lookup the style name in the list of styles and apply the created style object to the widget.</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a><span class="sd">        If the style name is not found in the list of styles, a new style is created and added to the list.</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a>        <span class="c1"># Style application logic goes here</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a>        <span class="c1"># For example, lookup a style in self.data[&quot;ui&quot;][&quot;styles&quot;] and apply it to the widget</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a>        <span class="k">if</span> <span class="n">style_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">:</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a>            <span class="k">if</span> <span class="n">style_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;styles&quot;</span><span class="p">]:</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Style not found: </span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a>            <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_style</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;styles&quot;</span><span class="p">][</span><span class="n">style_name</span><span class="p">])</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="n">style_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">style</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a>            <span class="k">if</span> <span class="s2">&quot;selector&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;styles&quot;</span><span class="p">][</span><span class="n">style_name</span><span class="p">]:</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a>                <span class="n">selector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_value</span><span class="p">(</span><span class="s2">&quot;selector&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;styles&quot;</span><span class="p">][</span><span class="n">style_name</span><span class="p">][</span><span class="s2">&quot;selector&quot;</span><span class="p">])</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a>                <span class="k">if</span> <span class="n">selector</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid selector value for style: </span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s1">&#39;styles&#39;</span><span class="p">][</span><span class="n">style_name</span><span class="p">][</span><span class="s1">&#39;selector&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">_selector&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">MAIN</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">_selector&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">selector</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">_selector&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">MAIN</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a>        <span class="n">widget</span><span class="o">.</span><span class="n">add_style</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="n">style_name</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">_selector&quot;</span><span class="p">])</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a>    <span class="k">def</span> <span class="nf">update_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Re-render the screen &amp; update the layout.&quot;&quot;&quot;</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a>        <span class="n">lv</span><span class="o">.</span><span class="n">screen_load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="p">)</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="o">.</span><span class="n">update_layout</span><span class="p">()</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a><span class="c1"># NOTE ------------ GETTERS ------------</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a>    <span class="k">def</span> <span class="nf">get_root_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the root widget object (container) of the UI.&quot;&quot;&quot;</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a>    
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a>    <span class="k">def</span> <span class="nf">get_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UI</span><span class="p">:</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a><span class="sd">        **Returns:**</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a><span class="sd">        - `UI` The UI object containing the metadata.</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a><span class="sd">        Return a UI object (special dictionary) containing the screen dimensions and all widget position metadata required for bounding box annotation.</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a>        <span class="n">ui</span> <span class="o">=</span> <span class="n">UI</span><span class="p">()</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a>        <span class="n">ui</span><span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">)</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_screen</span><span class="p">()</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a>        <span class="k">for</span> <span class="nb">id</span><span class="p">,</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span> <span class="ow">is</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">:</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a>                <span class="k">continue</span> <span class="c1"># Skip container widgets</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>            <span class="n">widget_info</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>            <span class="n">tmp_coords</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">area_t</span><span class="p">()</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a>            <span class="n">widget</span><span class="o">.</span><span class="n">get_coords</span><span class="p">(</span><span class="n">tmp_coords</span><span class="p">)</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">tmp_coords</span><span class="o">.</span><span class="n">x1</span> <span class="o">+</span> <span class="n">tmp_coords</span><span class="o">.</span><span class="n">x2</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">tmp_coords</span><span class="o">.</span><span class="n">y1</span> <span class="o">+</span> <span class="n">tmp_coords</span><span class="o">.</span><span class="n">y2</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;height&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Widget </span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">widget_info</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a>            <span class="n">ui</span><span class="p">[</span><span class="s2">&quot;objects&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">widget_info</span><span class="p">)</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a>        <span class="k">return</span> <span class="n">ui</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a>    
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a>    <span class="k">def</span> <span class="nf">cleanup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a><span class="sd">        Cleanup the screen and widgets, destroying all created objects.</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a><span class="sd">        Note that this function will cause a known error when sub-widgets are indirectly deleted by destroying their parent container.</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a><span class="sd">        That error is safe to ignore, as the widgets should be properly deleted by LVGL.</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a>        <span class="c1"># Cleanup the screen and widgets (passing twice to delete widgets before containers)</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a>        <span class="k">for</span> <span class="nb">id</span><span class="p">,</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a>                <span class="n">widget</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error deleting widget </span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a>        
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a>    <span class="c1"># Load UI from JSON file</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a>    <span class="n">ui_loader</span> <span class="o">=</span> <span class="n">UiLoader</span><span class="p">(</span><span class="s2">&quot;./designs/ui_attempt1.json&quot;</span><span class="p">)</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a>    <span class="n">ui_loader</span><span class="o">.</span><span class="n">initialize_screen</span><span class="p">()</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a>    <span class="n">ui_loader</span><span class="o">.</span><span class="n">parse_ui</span><span class="p">()</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a>    <span class="n">root_widget</span> <span class="o">=</span> <span class="n">ui_loader</span><span class="o">.</span><span class="n">get_root_widget</span><span class="p">()</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a>    <span class="n">ui</span> <span class="o">=</span> <span class="n">ui_loader</span><span class="o">.</span><span class="n">get_ui</span><span class="p">()</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a>    <span class="nb">print</span><span class="p">(</span><span class="n">ui</span><span class="p">)</span>
</span></pre></div>


            </section>
                <section id="UiLoader">
                            <input id="UiLoader-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">UiLoader</span>:

                <label class="view-source-button" for="UiLoader-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader-21"><a href="#UiLoader-21"><span class="linenos"> 21</span></a><span class="k">class</span> <span class="nc">UiLoader</span><span class="p">:</span>
</span><span id="UiLoader-22"><a href="#UiLoader-22"><span class="linenos"> 22</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-23"><a href="#UiLoader-23"><span class="linenos"> 23</span></a><span class="sd">    A class to load and parse UI designs from JSON files.</span>
</span><span id="UiLoader-24"><a href="#UiLoader-24"><span class="linenos"> 24</span></a>
</span><span id="UiLoader-25"><a href="#UiLoader-25"><span class="linenos"> 25</span></a><span class="sd">    **Class Attributes:**</span>
</span><span id="UiLoader-26"><a href="#UiLoader-26"><span class="linenos"> 26</span></a><span class="sd">    - `special_types` A list of special widget types that require custom creation logic.</span>
</span><span id="UiLoader-27"><a href="#UiLoader-27"><span class="linenos"> 27</span></a><span class="sd">    - `valid_types` A list of all valid widget types that can be created.</span>
</span><span id="UiLoader-28"><a href="#UiLoader-28"><span class="linenos"> 28</span></a><span class="sd">    - `valid_layouts` A list of valid layout types for container widgets.</span>
</span><span id="UiLoader-29"><a href="#UiLoader-29"><span class="linenos"> 29</span></a><span class="sd">    - `valid_flow` A list of valid flow types for flex layout containers.</span>
</span><span id="UiLoader-30"><a href="#UiLoader-30"><span class="linenos"> 30</span></a><span class="sd">    - `_options` The key for the options property in a container widget.</span>
</span><span id="UiLoader-31"><a href="#UiLoader-31"><span class="linenos"> 31</span></a>
</span><span id="UiLoader-32"><a href="#UiLoader-32"><span class="linenos"> 32</span></a><span class="sd">    **Object Attributes:**</span>
</span><span id="UiLoader-33"><a href="#UiLoader-33"><span class="linenos"> 33</span></a><span class="sd">    - `data` The JSON data loaded from the file.</span>
</span><span id="UiLoader-34"><a href="#UiLoader-34"><span class="linenos"> 34</span></a><span class="sd">    - `ui` The &#39;ui&#39; object from the JSON data.</span>
</span><span id="UiLoader-35"><a href="#UiLoader-35"><span class="linenos"> 35</span></a><span class="sd">    - `widgets` A dictionary to store references to created widgets.</span>
</span><span id="UiLoader-36"><a href="#UiLoader-36"><span class="linenos"> 36</span></a><span class="sd">    - `styles` A dictionary to store references to created styles.</span>
</span><span id="UiLoader-37"><a href="#UiLoader-37"><span class="linenos"> 37</span></a><span class="sd">    - `width` The width of the screen.</span>
</span><span id="UiLoader-38"><a href="#UiLoader-38"><span class="linenos"> 38</span></a><span class="sd">    - `height` The height of the screen.</span>
</span><span id="UiLoader-39"><a href="#UiLoader-39"><span class="linenos"> 39</span></a><span class="sd">    - `title` The title of the window (not used, reference for author).</span>
</span><span id="UiLoader-40"><a href="#UiLoader-40"><span class="linenos"> 40</span></a><span class="sd">    - `screen` The display driver object.</span>
</span><span id="UiLoader-41"><a href="#UiLoader-41"><span class="linenos"> 41</span></a><span class="sd">    - `root_widget` The root widget object of the UI.</span>
</span><span id="UiLoader-42"><a href="#UiLoader-42"><span class="linenos"> 42</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="UiLoader-43"><a href="#UiLoader-43"><span class="linenos"> 43</span></a>    <span class="n">special_types</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;container&quot;</span><span class="p">,</span> <span class="s2">&quot;random&quot;</span><span class="p">]</span>
</span><span id="UiLoader-44"><a href="#UiLoader-44"><span class="linenos"> 44</span></a>    <span class="n">valid_types</span> <span class="o">=</span> <span class="n">special_types</span> <span class="o">+</span> <span class="n">widget_types</span>
</span><span id="UiLoader-45"><a href="#UiLoader-45"><span class="linenos"> 45</span></a>    <span class="n">valid_layouts</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="s2">&quot;grid&quot;</span><span class="p">,</span> <span class="s2">&quot;flex&quot;</span><span class="p">]</span>
</span><span id="UiLoader-46"><a href="#UiLoader-46"><span class="linenos"> 46</span></a>    <span class="n">valid_flow</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;row&quot;</span><span class="p">,</span> <span class="s2">&quot;column&quot;</span><span class="p">,</span> <span class="s2">&quot;row_wrap&quot;</span><span class="p">,</span> <span class="s2">&quot;column_wrap&quot;</span><span class="p">,</span> <span class="s2">&quot;row_reverse&quot;</span><span class="p">,</span> <span class="s2">&quot;column_reverse&quot;</span><span class="p">]</span>
</span><span id="UiLoader-47"><a href="#UiLoader-47"><span class="linenos"> 47</span></a>    <span class="n">_options</span> <span class="o">=</span> <span class="s2">&quot;options&quot;</span>
</span><span id="UiLoader-48"><a href="#UiLoader-48"><span class="linenos"> 48</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="UiLoader-49"><a href="#UiLoader-49"><span class="linenos"> 49</span></a>        <span class="c1"># Load JSON data</span>
</span><span id="UiLoader-50"><a href="#UiLoader-50"><span class="linenos"> 50</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_json_file</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>
</span><span id="UiLoader-51"><a href="#UiLoader-51"><span class="linenos"> 51</span></a>        <span class="k">if</span> <span class="s2">&quot;ui&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;ui&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="UiLoader-52"><a href="#UiLoader-52"><span class="linenos"> 52</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JSON must have &#39;ui&#39; property of type dict: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-53"><a href="#UiLoader-53"><span class="linenos"> 53</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;ui&quot;</span><span class="p">]</span>
</span><span id="UiLoader-54"><a href="#UiLoader-54"><span class="linenos"> 54</span></a>        <span class="c1"># Create a dictionary to store references to created widgets</span>
</span><span id="UiLoader-55"><a href="#UiLoader-55"><span class="linenos"> 55</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="UiLoader-56"><a href="#UiLoader-56"><span class="linenos"> 56</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="UiLoader-57"><a href="#UiLoader-57"><span class="linenos"> 57</span></a>
</span><span id="UiLoader-58"><a href="#UiLoader-58"><span class="linenos"> 58</span></a>    <span class="nd">@staticmethod</span>
</span><span id="UiLoader-59"><a href="#UiLoader-59"><span class="linenos"> 59</span></a>    <span class="k">def</span> <span class="nf">load_json_file</span><span class="p">(</span><span class="n">filepath</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="UiLoader-60"><a href="#UiLoader-60"><span class="linenos"> 60</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-61"><a href="#UiLoader-61"><span class="linenos"> 61</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader-62"><a href="#UiLoader-62"><span class="linenos"> 62</span></a><span class="sd">        - `filepath` The path to the JSON file to load.</span>
</span><span id="UiLoader-63"><a href="#UiLoader-63"><span class="linenos"> 63</span></a>
</span><span id="UiLoader-64"><a href="#UiLoader-64"><span class="linenos"> 64</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader-65"><a href="#UiLoader-65"><span class="linenos"> 65</span></a><span class="sd">        - `dict` The JSON data loaded from the file.</span>
</span><span id="UiLoader-66"><a href="#UiLoader-66"><span class="linenos"> 66</span></a>
</span><span id="UiLoader-67"><a href="#UiLoader-67"><span class="linenos"> 67</span></a><span class="sd">        Load and return the JSON data from a file.</span>
</span><span id="UiLoader-68"><a href="#UiLoader-68"><span class="linenos"> 68</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-69"><a href="#UiLoader-69"><span class="linenos"> 69</span></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
</span><span id="UiLoader-70"><a href="#UiLoader-70"><span class="linenos"> 70</span></a>            <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</span><span id="UiLoader-71"><a href="#UiLoader-71"><span class="linenos"> 71</span></a>    
</span><span id="UiLoader-72"><a href="#UiLoader-72"><span class="linenos"> 72</span></a>    <span class="k">def</span> <span class="nf">initialize_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UiLoader-73"><a href="#UiLoader-73"><span class="linenos"> 73</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-74"><a href="#UiLoader-74"><span class="linenos"> 74</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader-75"><a href="#UiLoader-75"><span class="linenos"> 75</span></a><span class="sd">        - `driver` The display driver object.</span>
</span><span id="UiLoader-76"><a href="#UiLoader-76"><span class="linenos"> 76</span></a>
</span><span id="UiLoader-77"><a href="#UiLoader-77"><span class="linenos"> 77</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader-78"><a href="#UiLoader-78"><span class="linenos"> 78</span></a><span class="sd">        - `ValueError` If the &#39;window&#39; property is missing or invalid.</span>
</span><span id="UiLoader-79"><a href="#UiLoader-79"><span class="linenos"> 79</span></a><span class="sd">        - `ValueError` If the &#39;width&#39; property is missing or invalid.</span>
</span><span id="UiLoader-80"><a href="#UiLoader-80"><span class="linenos"> 80</span></a><span class="sd">        - `ValueError` If the &#39;height&#39; property is missing or invalid.</span>
</span><span id="UiLoader-81"><a href="#UiLoader-81"><span class="linenos"> 81</span></a>
</span><span id="UiLoader-82"><a href="#UiLoader-82"><span class="linenos"> 82</span></a><span class="sd">        Initialize a display driver in the specified width and height of the JSON data to create a window.</span>
</span><span id="UiLoader-83"><a href="#UiLoader-83"><span class="linenos"> 83</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-84"><a href="#UiLoader-84"><span class="linenos"> 84</span></a>        <span class="k">if</span> <span class="s2">&quot;window&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="UiLoader-85"><a href="#UiLoader-85"><span class="linenos"> 85</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;UI must have &#39;window&#39; property of type dict: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-86"><a href="#UiLoader-86"><span class="linenos"> 86</span></a>        <span class="k">if</span> <span class="s2">&quot;width&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;width&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader-87"><a href="#UiLoader-87"><span class="linenos"> 87</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Window must have &#39;width&#39; property of type int: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s1">&#39;window&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-88"><a href="#UiLoader-88"><span class="linenos"> 88</span></a>        <span class="k">if</span> <span class="s2">&quot;height&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;height&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader-89"><a href="#UiLoader-89"><span class="linenos"> 89</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Window must have &#39;height&#39; property of type int: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s1">&#39;window&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-90"><a href="#UiLoader-90"><span class="linenos"> 90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;width&quot;</span><span class="p">]</span>
</span><span id="UiLoader-91"><a href="#UiLoader-91"><span class="linenos"> 91</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;height&quot;</span><span class="p">]</span>
</span><span id="UiLoader-92"><a href="#UiLoader-92"><span class="linenos"> 92</span></a>        <span class="k">if</span> <span class="s2">&quot;title&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">]:</span>
</span><span id="UiLoader-93"><a href="#UiLoader-93"><span class="linenos"> 93</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="c1"># FIXME window title is not used</span>
</span><span id="UiLoader-94"><a href="#UiLoader-94"><span class="linenos"> 94</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">screen</span> <span class="o">=</span> <span class="n">driver</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span><span id="UiLoader-95"><a href="#UiLoader-95"><span class="linenos"> 95</span></a>
</span><span id="UiLoader-96"><a href="#UiLoader-96"><span class="linenos"> 96</span></a>    <span class="k">def</span> <span class="nf">parse_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UiLoader-97"><a href="#UiLoader-97"><span class="linenos"> 97</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-98"><a href="#UiLoader-98"><span class="linenos"> 98</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader-99"><a href="#UiLoader-99"><span class="linenos"> 99</span></a><span class="sd">        - `ValueError` If the `root` JSON property is missing or invalid.</span>
</span><span id="UiLoader-100"><a href="#UiLoader-100"><span class="linenos">100</span></a>
</span><span id="UiLoader-101"><a href="#UiLoader-101"><span class="linenos">101</span></a><span class="sd">        Parse the UI elements under the `root` object of the JSON data.</span>
</span><span id="UiLoader-102"><a href="#UiLoader-102"><span class="linenos">102</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-103"><a href="#UiLoader-103"><span class="linenos">103</span></a>        <span class="k">if</span> <span class="s2">&quot;root&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;root&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="UiLoader-104"><a href="#UiLoader-104"><span class="linenos">104</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;UI must have &#39;root&#39; property of type dict: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-105"><a href="#UiLoader-105"><span class="linenos">105</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_element</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;root&quot;</span><span class="p">])</span>
</span><span id="UiLoader-106"><a href="#UiLoader-106"><span class="linenos">106</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">screen_active</span><span class="p">())</span>
</span><span id="UiLoader-107"><a href="#UiLoader-107"><span class="linenos">107</span></a>        <span class="c1"># NOTE The below can be accomplished by setting the width and height of the root widget via style properties</span>
</span><span id="UiLoader-108"><a href="#UiLoader-108"><span class="linenos">108</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="o">.</span><span class="n">set_width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
</span><span id="UiLoader-109"><a href="#UiLoader-109"><span class="linenos">109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="o">.</span><span class="n">set_height</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span><span id="UiLoader-110"><a href="#UiLoader-110"><span class="linenos">110</span></a>
</span><span id="UiLoader-111"><a href="#UiLoader-111"><span class="linenos">111</span></a>    <span class="k">def</span> <span class="nf">parse_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
</span><span id="UiLoader-112"><a href="#UiLoader-112"><span class="linenos">112</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-113"><a href="#UiLoader-113"><span class="linenos">113</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader-114"><a href="#UiLoader-114"><span class="linenos">114</span></a><span class="sd">        - `element` The JSON element to parse.</span>
</span><span id="UiLoader-115"><a href="#UiLoader-115"><span class="linenos">115</span></a>
</span><span id="UiLoader-116"><a href="#UiLoader-116"><span class="linenos">116</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader-117"><a href="#UiLoader-117"><span class="linenos">117</span></a><span class="sd">        - `lv.obj | lv.button | lv.label | lv.image | lv.line | lv.bar | lv.slider | lv.switch | lv.checkbox | lv.roller | lv.dropdown | lv.textarea | lv.chart` The created widget object based on the element type.</span>
</span><span id="UiLoader-118"><a href="#UiLoader-118"><span class="linenos">118</span></a>
</span><span id="UiLoader-119"><a href="#UiLoader-119"><span class="linenos">119</span></a><span class="sd">        Parse a widget object JSON element and create the corresponding widget.</span>
</span><span id="UiLoader-120"><a href="#UiLoader-120"><span class="linenos">120</span></a><span class="sd">        If the element has children, **they will be parsed recursively** and attached to the parent widget.</span>
</span><span id="UiLoader-121"><a href="#UiLoader-121"><span class="linenos">121</span></a><span class="sd">        If the element has one or more styles, they will be applied to the created widget.</span>
</span><span id="UiLoader-122"><a href="#UiLoader-122"><span class="linenos">122</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-123"><a href="#UiLoader-123"><span class="linenos">123</span></a>        <span class="c1"># Create a widget based on the element type</span>
</span><span id="UiLoader-124"><a href="#UiLoader-124"><span class="linenos">124</span></a>        <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_widget</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</span><span id="UiLoader-125"><a href="#UiLoader-125"><span class="linenos">125</span></a>        <span class="c1"># Process child elements if they exist</span>
</span><span id="UiLoader-126"><a href="#UiLoader-126"><span class="linenos">126</span></a>        <span class="k">if</span> <span class="s2">&quot;children&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="UiLoader-127"><a href="#UiLoader-127"><span class="linenos">127</span></a>            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]:</span>
</span><span id="UiLoader-128"><a href="#UiLoader-128"><span class="linenos">128</span></a>                <span class="n">child_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_element</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
</span><span id="UiLoader-129"><a href="#UiLoader-129"><span class="linenos">129</span></a>                <span class="k">if</span> <span class="n">child</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;random&quot;</span><span class="p">:</span> <span class="c1"># NOTE Random widget is a special case and places itself</span>
</span><span id="UiLoader-130"><a href="#UiLoader-130"><span class="linenos">130</span></a>                    <span class="k">continue</span>
</span><span id="UiLoader-131"><a href="#UiLoader-131"><span class="linenos">131</span></a>                <span class="n">child_widget</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
</span><span id="UiLoader-132"><a href="#UiLoader-132"><span class="linenos">132</span></a>                <span class="k">if</span> <span class="s2">&quot;grid&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">[</span><span class="s1">&#39;options&#39;</span><span class="p">][</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]:</span>
</span><span id="UiLoader-133"><a href="#UiLoader-133"><span class="linenos">133</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">place_widget_in_grid</span><span class="p">(</span><span class="n">child_widget</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>
</span><span id="UiLoader-134"><a href="#UiLoader-134"><span class="linenos">134</span></a>                    
</span><span id="UiLoader-135"><a href="#UiLoader-135"><span class="linenos">135</span></a>        <span class="k">if</span> <span class="s2">&quot;style&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="UiLoader-136"><a href="#UiLoader-136"><span class="linenos">136</span></a>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="UiLoader-137"><a href="#UiLoader-137"><span class="linenos">137</span></a>                <span class="k">for</span> <span class="n">style</span> <span class="ow">in</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">]:</span>
</span><span id="UiLoader-138"><a href="#UiLoader-138"><span class="linenos">138</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">apply_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span>
</span><span id="UiLoader-139"><a href="#UiLoader-139"><span class="linenos">139</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader-140"><a href="#UiLoader-140"><span class="linenos">140</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">apply_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">])</span>
</span><span id="UiLoader-141"><a href="#UiLoader-141"><span class="linenos">141</span></a>        <span class="k">return</span> <span class="n">widget</span>
</span><span id="UiLoader-142"><a href="#UiLoader-142"><span class="linenos">142</span></a>
</span><span id="UiLoader-143"><a href="#UiLoader-143"><span class="linenos">143</span></a>    <span class="k">def</span> <span class="nf">create_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">button</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">label</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">image</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">line</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">bar</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">slider</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">switch</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">checkbox</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">roller</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">dropdown</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">textarea</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="p">:</span>
</span><span id="UiLoader-144"><a href="#UiLoader-144"><span class="linenos">144</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-145"><a href="#UiLoader-145"><span class="linenos">145</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader-146"><a href="#UiLoader-146"><span class="linenos">146</span></a><span class="sd">        - `element` The JSON element to create the widget from.</span>
</span><span id="UiLoader-147"><a href="#UiLoader-147"><span class="linenos">147</span></a>
</span><span id="UiLoader-148"><a href="#UiLoader-148"><span class="linenos">148</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader-149"><a href="#UiLoader-149"><span class="linenos">149</span></a><span class="sd">        - `lv.obj | lv.button | lv.label | lv.image | lv.line | lv.bar | lv.slider | lv.switch | lv.checkbox | lv.roller | lv.dropdown | lv.textarea | lv.chart` The created widget object based on the element type.</span>
</span><span id="UiLoader-150"><a href="#UiLoader-150"><span class="linenos">150</span></a>
</span><span id="UiLoader-151"><a href="#UiLoader-151"><span class="linenos">151</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader-152"><a href="#UiLoader-152"><span class="linenos">152</span></a><span class="sd">        - `ValueError` If the widget type is not recognized.</span>
</span><span id="UiLoader-153"><a href="#UiLoader-153"><span class="linenos">153</span></a><span class="sd">        - `ValueError` If the specified `id` already exists in previously created widgets.</span>
</span><span id="UiLoader-154"><a href="#UiLoader-154"><span class="linenos">154</span></a>
</span><span id="UiLoader-155"><a href="#UiLoader-155"><span class="linenos">155</span></a><span class="sd">        Create an LVGL widget object based on the type specified in the JSON element.</span>
</span><span id="UiLoader-156"><a href="#UiLoader-156"><span class="linenos">156</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-157"><a href="#UiLoader-157"><span class="linenos">157</span></a>        <span class="n">widget</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="UiLoader-158"><a href="#UiLoader-158"><span class="linenos">158</span></a>        <span class="n">widget_type</span> <span class="o">=</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
</span><span id="UiLoader-159"><a href="#UiLoader-159"><span class="linenos">159</span></a>        <span class="k">if</span> <span class="n">widget_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_types</span><span class="p">:</span>
</span><span id="UiLoader-160"><a href="#UiLoader-160"><span class="linenos">160</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid widget type: </span><span class="si">{</span><span class="n">widget_type</span><span class="si">}</span><span class="s2">. Valid types are: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">valid_types</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-161"><a href="#UiLoader-161"><span class="linenos">161</span></a>        <span class="k">if</span> <span class="n">widget_type</span> <span class="o">==</span> <span class="s1">&#39;container&#39;</span><span class="p">:</span>
</span><span id="UiLoader-162"><a href="#UiLoader-162"><span class="linenos">162</span></a>            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_container</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</span><span id="UiLoader-163"><a href="#UiLoader-163"><span class="linenos">163</span></a>        <span class="k">elif</span> <span class="n">widget_type</span> <span class="o">==</span> <span class="s2">&quot;random&quot;</span><span class="p">:</span>
</span><span id="UiLoader-164"><a href="#UiLoader-164"><span class="linenos">164</span></a>            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_random_widget</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</span><span id="UiLoader-165"><a href="#UiLoader-165"><span class="linenos">165</span></a>        <span class="k">elif</span> <span class="n">widget_type</span> <span class="ow">in</span> <span class="n">widget_mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="UiLoader-166"><a href="#UiLoader-166"><span class="linenos">166</span></a>            <span class="n">widget</span> <span class="o">=</span> <span class="n">widget_mapping</span><span class="p">[</span><span class="n">widget_type</span><span class="p">](</span><span class="n">element</span><span class="p">)</span>
</span><span id="UiLoader-167"><a href="#UiLoader-167"><span class="linenos">167</span></a>        <span class="k">if</span> <span class="n">widget</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="UiLoader-168"><a href="#UiLoader-168"><span class="linenos">168</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to create widget: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-169"><a href="#UiLoader-169"><span class="linenos">169</span></a>        <span class="k">if</span> <span class="s1">&#39;width&#39;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="UiLoader-170"><a href="#UiLoader-170"><span class="linenos">170</span></a>            <span class="n">widget</span><span class="o">.</span><span class="n">set_width</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">])</span>
</span><span id="UiLoader-171"><a href="#UiLoader-171"><span class="linenos">171</span></a>        <span class="k">if</span> <span class="s1">&#39;height&#39;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="UiLoader-172"><a href="#UiLoader-172"><span class="linenos">172</span></a>            <span class="n">widget</span><span class="o">.</span><span class="n">set_height</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">])</span>
</span><span id="UiLoader-173"><a href="#UiLoader-173"><span class="linenos">173</span></a>        <span class="c1"># Create a unique ID for the widget if it wasn&#39;t provided</span>
</span><span id="UiLoader-174"><a href="#UiLoader-174"><span class="linenos">174</span></a>        <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="UiLoader-175"><a href="#UiLoader-175"><span class="linenos">175</span></a>            <span class="c1"># Count types of the widget</span>
</span><span id="UiLoader-176"><a href="#UiLoader-176"><span class="linenos">176</span></a>            <span class="n">count</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="mi">1</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="n">widget</span><span class="p">)])</span>
</span><span id="UiLoader-177"><a href="#UiLoader-177"><span class="linenos">177</span></a>            <span class="nb">id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">widget_type</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="UiLoader-178"><a href="#UiLoader-178"><span class="linenos">178</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span>
</span><span id="UiLoader-179"><a href="#UiLoader-179"><span class="linenos">179</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created widget &#39;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-180"><a href="#UiLoader-180"><span class="linenos">180</span></a>        <span class="k">elif</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">:</span>
</span><span id="UiLoader-181"><a href="#UiLoader-181"><span class="linenos">181</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Widget with ID &#39;</span><span class="si">{</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; already exists. IDs must be unique.&quot;</span><span class="p">)</span>
</span><span id="UiLoader-182"><a href="#UiLoader-182"><span class="linenos">182</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader-183"><a href="#UiLoader-183"><span class="linenos">183</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">[</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">widget</span>
</span><span id="UiLoader-184"><a href="#UiLoader-184"><span class="linenos">184</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created widget &#39;</span><span class="si">{</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-185"><a href="#UiLoader-185"><span class="linenos">185</span></a>        <span class="k">return</span> <span class="n">widget</span>
</span><span id="UiLoader-186"><a href="#UiLoader-186"><span class="linenos">186</span></a>
</span><span id="UiLoader-187"><a href="#UiLoader-187"><span class="linenos">187</span></a><span class="c1"># NOTE ------------ SPECIAL CREATION METHODS ------------</span>
</span><span id="UiLoader-188"><a href="#UiLoader-188"><span class="linenos">188</span></a>
</span><span id="UiLoader-189"><a href="#UiLoader-189"><span class="linenos">189</span></a>    <span class="k">def</span> <span class="nf">create_container</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">:</span>
</span><span id="UiLoader-190"><a href="#UiLoader-190"><span class="linenos">190</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-191"><a href="#UiLoader-191"><span class="linenos">191</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader-192"><a href="#UiLoader-192"><span class="linenos">192</span></a><span class="sd">        - `element` The JSON element to create the container widget from.</span>
</span><span id="UiLoader-193"><a href="#UiLoader-193"><span class="linenos">193</span></a>
</span><span id="UiLoader-194"><a href="#UiLoader-194"><span class="linenos">194</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader-195"><a href="#UiLoader-195"><span class="linenos">195</span></a><span class="sd">        - `lv.obj` The created container widget object.</span>
</span><span id="UiLoader-196"><a href="#UiLoader-196"><span class="linenos">196</span></a>
</span><span id="UiLoader-197"><a href="#UiLoader-197"><span class="linenos">197</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader-198"><a href="#UiLoader-198"><span class="linenos">198</span></a><span class="sd">        - `ValueError` If the `id` or `options` properties are missing or invalid.</span>
</span><span id="UiLoader-199"><a href="#UiLoader-199"><span class="linenos">199</span></a><span class="sd">        - `ValueError` If the `layout_type` property is missing or invalid.</span>
</span><span id="UiLoader-200"><a href="#UiLoader-200"><span class="linenos">200</span></a><span class="sd">        - `ValueError` If the layout type is `grid` or `flex` and the `layout_options` property is missing or invalid.</span>
</span><span id="UiLoader-201"><a href="#UiLoader-201"><span class="linenos">201</span></a>
</span><span id="UiLoader-202"><a href="#UiLoader-202"><span class="linenos">202</span></a><span class="sd">        Create a container widget based on the JSON element.</span>
</span><span id="UiLoader-203"><a href="#UiLoader-203"><span class="linenos">203</span></a><span class="sd">        If the layout type is &#39;grid&#39; or &#39;flex&#39;, the &#39;layout_options&#39; property must be present.</span>
</span><span id="UiLoader-204"><a href="#UiLoader-204"><span class="linenos">204</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-205"><a href="#UiLoader-205"><span class="linenos">205</span></a>        <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="UiLoader-206"><a href="#UiLoader-206"><span class="linenos">206</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container widget must have &#39;id&#39; of type str: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-207"><a href="#UiLoader-207"><span class="linenos">207</span></a>        <span class="k">if</span> <span class="s2">&quot;options&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;options&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="UiLoader-208"><a href="#UiLoader-208"><span class="linenos">208</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container widget must have &#39;options&#39; of type dict: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-209"><a href="#UiLoader-209"><span class="linenos">209</span></a>        <span class="n">options</span> <span class="o">=</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;options&quot;</span><span class="p">]</span>
</span><span id="UiLoader-210"><a href="#UiLoader-210"><span class="linenos">210</span></a>        <span class="k">if</span> <span class="s2">&quot;layout_type&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">or</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_layouts</span><span class="p">:</span>
</span><span id="UiLoader-211"><a href="#UiLoader-211"><span class="linenos">211</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container widget must have &#39;layout_type&#39; property: </span><span class="si">{</span><span class="n">options</span><span class="si">}</span><span class="s2">. Valid options are: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">valid_layouts</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-212"><a href="#UiLoader-212"><span class="linenos">212</span></a>        <span class="k">if</span> <span class="s1">&#39;grid&#39;</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="s1">&#39;flex&#39;</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]:</span>
</span><span id="UiLoader-213"><a href="#UiLoader-213"><span class="linenos">213</span></a>            <span class="k">if</span> <span class="s2">&quot;layout_options&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_options&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="UiLoader-214"><a href="#UiLoader-214"><span class="linenos">214</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container widget must have &#39;layout_options&#39; property of type dict: </span><span class="si">{</span><span class="n">options</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-215"><a href="#UiLoader-215"><span class="linenos">215</span></a>        <span class="n">container</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">screen_active</span><span class="p">())</span>
</span><span id="UiLoader-216"><a href="#UiLoader-216"><span class="linenos">216</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]</span>
</span><span id="UiLoader-217"><a href="#UiLoader-217"><span class="linenos">217</span></a>        <span class="k">if</span> <span class="n">layout</span> <span class="o">==</span> <span class="s2">&quot;none&quot;</span><span class="p">:</span>
</span><span id="UiLoader-218"><a href="#UiLoader-218"><span class="linenos">218</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_layout</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">LAYOUT</span><span class="o">.</span><span class="n">NONE</span><span class="p">)</span>
</span><span id="UiLoader-219"><a href="#UiLoader-219"><span class="linenos">219</span></a>            <span class="c1"># element[&quot;layout_type&quot;] = &quot;none&quot;</span>
</span><span id="UiLoader-220"><a href="#UiLoader-220"><span class="linenos">220</span></a>        <span class="k">elif</span> <span class="n">layout</span> <span class="o">==</span> <span class="s2">&quot;grid&quot;</span><span class="p">:</span>
</span><span id="UiLoader-221"><a href="#UiLoader-221"><span class="linenos">221</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">configure_grid_layout</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">options</span><span class="p">[</span><span class="s1">&#39;layout_options&#39;</span><span class="p">])</span>
</span><span id="UiLoader-222"><a href="#UiLoader-222"><span class="linenos">222</span></a>            <span class="c1"># element[&quot;layout_type&quot;] = &quot;grid&quot;</span>
</span><span id="UiLoader-223"><a href="#UiLoader-223"><span class="linenos">223</span></a>        <span class="k">elif</span> <span class="n">layout</span> <span class="o">==</span> <span class="s2">&quot;flex&quot;</span><span class="p">:</span>
</span><span id="UiLoader-224"><a href="#UiLoader-224"><span class="linenos">224</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">configure_flex_layout</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">options</span><span class="p">[</span><span class="s1">&#39;layout_options&#39;</span><span class="p">])</span>
</span><span id="UiLoader-225"><a href="#UiLoader-225"><span class="linenos">225</span></a>            <span class="c1"># element[&quot;layout_type&quot;] = &quot;flex&quot;</span>
</span><span id="UiLoader-226"><a href="#UiLoader-226"><span class="linenos">226</span></a>        <span class="k">return</span> <span class="n">container</span>
</span><span id="UiLoader-227"><a href="#UiLoader-227"><span class="linenos">227</span></a>    
</span><span id="UiLoader-228"><a href="#UiLoader-228"><span class="linenos">228</span></a>    <span class="k">def</span> <span class="nf">configure_flex_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">options</span><span class="p">):</span>
</span><span id="UiLoader-229"><a href="#UiLoader-229"><span class="linenos">229</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-230"><a href="#UiLoader-230"><span class="linenos">230</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader-231"><a href="#UiLoader-231"><span class="linenos">231</span></a><span class="sd">        - `container` The container widget to configure the flex layout for.</span>
</span><span id="UiLoader-232"><a href="#UiLoader-232"><span class="linenos">232</span></a><span class="sd">        - `options` The options dictionary for the flex layout.</span>
</span><span id="UiLoader-233"><a href="#UiLoader-233"><span class="linenos">233</span></a>
</span><span id="UiLoader-234"><a href="#UiLoader-234"><span class="linenos">234</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader-235"><a href="#UiLoader-235"><span class="linenos">235</span></a><span class="sd">        - `ValueError` If the `flow` property is missing or invalid.</span>
</span><span id="UiLoader-236"><a href="#UiLoader-236"><span class="linenos">236</span></a>
</span><span id="UiLoader-237"><a href="#UiLoader-237"><span class="linenos">237</span></a><span class="sd">        Configure the flex layout of a container widget based on the options provided in the JSON element.</span>
</span><span id="UiLoader-238"><a href="#UiLoader-238"><span class="linenos">238</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-239"><a href="#UiLoader-239"><span class="linenos">239</span></a>        <span class="k">if</span> <span class="s2">&quot;flow&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">or</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;flow&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_flow</span><span class="p">:</span>
</span><span id="UiLoader-240"><a href="#UiLoader-240"><span class="linenos">240</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flex layout must have &#39;flow&#39; property: </span><span class="si">{</span><span class="n">options</span><span class="si">}</span><span class="s2">. Valid options are: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">valid_flow</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-241"><a href="#UiLoader-241"><span class="linenos">241</span></a>        <span class="n">container</span><span class="o">.</span><span class="n">set_layout</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">LAYOUT</span><span class="o">.</span><span class="n">FLEX</span><span class="p">)</span>
</span><span id="UiLoader-242"><a href="#UiLoader-242"><span class="linenos">242</span></a>        <span class="n">flow</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;flow&quot;</span><span class="p">]</span>
</span><span id="UiLoader-243"><a href="#UiLoader-243"><span class="linenos">243</span></a>        <span class="k">if</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;row&quot;</span><span class="p">:</span>
</span><span id="UiLoader-244"><a href="#UiLoader-244"><span class="linenos">244</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">ROW</span><span class="p">)</span>
</span><span id="UiLoader-245"><a href="#UiLoader-245"><span class="linenos">245</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;column&quot;</span><span class="p">:</span>
</span><span id="UiLoader-246"><a href="#UiLoader-246"><span class="linenos">246</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">COLUMN</span><span class="p">)</span>
</span><span id="UiLoader-247"><a href="#UiLoader-247"><span class="linenos">247</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;row_wrap&quot;</span><span class="p">:</span>
</span><span id="UiLoader-248"><a href="#UiLoader-248"><span class="linenos">248</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">ROW_WRAP</span><span class="p">)</span>
</span><span id="UiLoader-249"><a href="#UiLoader-249"><span class="linenos">249</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;column_wrap&quot;</span><span class="p">:</span>
</span><span id="UiLoader-250"><a href="#UiLoader-250"><span class="linenos">250</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">COLUMN_WRAP</span><span class="p">)</span>
</span><span id="UiLoader-251"><a href="#UiLoader-251"><span class="linenos">251</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;row_reverse&quot;</span><span class="p">:</span>
</span><span id="UiLoader-252"><a href="#UiLoader-252"><span class="linenos">252</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">ROW_REVERSE</span><span class="p">)</span>
</span><span id="UiLoader-253"><a href="#UiLoader-253"><span class="linenos">253</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;column_reverse&quot;</span><span class="p">:</span>
</span><span id="UiLoader-254"><a href="#UiLoader-254"><span class="linenos">254</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">COLUMN_REVERSE</span><span class="p">)</span>
</span><span id="UiLoader-255"><a href="#UiLoader-255"><span class="linenos">255</span></a>
</span><span id="UiLoader-256"><a href="#UiLoader-256"><span class="linenos">256</span></a>    <span class="k">def</span> <span class="nf">configure_grid_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">options</span><span class="p">):</span>
</span><span id="UiLoader-257"><a href="#UiLoader-257"><span class="linenos">257</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-258"><a href="#UiLoader-258"><span class="linenos">258</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader-259"><a href="#UiLoader-259"><span class="linenos">259</span></a><span class="sd">        - `container` The container widget to configure the grid layout for.</span>
</span><span id="UiLoader-260"><a href="#UiLoader-260"><span class="linenos">260</span></a><span class="sd">        - `options` The options dictionary for the grid layout.</span>
</span><span id="UiLoader-261"><a href="#UiLoader-261"><span class="linenos">261</span></a>
</span><span id="UiLoader-262"><a href="#UiLoader-262"><span class="linenos">262</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader-263"><a href="#UiLoader-263"><span class="linenos">263</span></a><span class="sd">        - `ValueError` If the `grid_dsc` property is missing or invalid.</span>
</span><span id="UiLoader-264"><a href="#UiLoader-264"><span class="linenos">264</span></a><span class="sd">        - `ValueError` If the `col_dsc` or `row_dsc` properties are missing or invalid.</span>
</span><span id="UiLoader-265"><a href="#UiLoader-265"><span class="linenos">265</span></a>
</span><span id="UiLoader-266"><a href="#UiLoader-266"><span class="linenos">266</span></a><span class="sd">        Configure the grid layout of a container widget based on the options provided in the JSON element.</span>
</span><span id="UiLoader-267"><a href="#UiLoader-267"><span class="linenos">267</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-268"><a href="#UiLoader-268"><span class="linenos">268</span></a>        <span class="k">if</span> <span class="s2">&quot;grid_dsc&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="UiLoader-269"><a href="#UiLoader-269"><span class="linenos">269</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Grid layout must have &#39;grid_dsc&#39; of type dict: </span><span class="si">{</span><span class="n">options</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-270"><a href="#UiLoader-270"><span class="linenos">270</span></a>        <span class="n">container</span><span class="o">.</span><span class="n">set_layout</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">LAYOUT</span><span class="o">.</span><span class="n">GRID</span><span class="p">)</span>
</span><span id="UiLoader-271"><a href="#UiLoader-271"><span class="linenos">271</span></a>        <span class="c1"># TODO Need to properly handle grid placements of children with grid layout</span>
</span><span id="UiLoader-272"><a href="#UiLoader-272"><span class="linenos">272</span></a>        <span class="k">if</span> <span class="s2">&quot;col_dsc&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">][</span><span class="s2">&quot;col_dsc&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">list</span> <span class="ow">or</span> <span class="s2">&quot;row_dsc&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">][</span><span class="s2">&quot;row_dsc&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="UiLoader-273"><a href="#UiLoader-273"><span class="linenos">273</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;grid_dsc must have &#39;col_dsc&#39; and &#39;row_dsc&#39; of type list: </span><span class="si">{</span><span class="n">options</span><span class="p">[</span><span class="s1">&#39;grid_dsc&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-274"><a href="#UiLoader-274"><span class="linenos">274</span></a>        <span class="n">col_dsc</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="UiLoader-275"><a href="#UiLoader-275"><span class="linenos">275</span></a>        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">][</span><span class="s2">&quot;col_dsc&quot;</span><span class="p">]:</span>
</span><span id="UiLoader-276"><a href="#UiLoader-276"><span class="linenos">276</span></a>            <span class="n">col_dsc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">GRID_CONTENT</span><span class="p">)</span> <span class="c1"># NOTE Hotfix for ChatGPT (always use content for proper sizes)</span>
</span><span id="UiLoader-277"><a href="#UiLoader-277"><span class="linenos">277</span></a>            <span class="c1"># if type(col) is int:</span>
</span><span id="UiLoader-278"><a href="#UiLoader-278"><span class="linenos">278</span></a>            <span class="c1">#     col_dsc.append(col)</span>
</span><span id="UiLoader-279"><a href="#UiLoader-279"><span class="linenos">279</span></a>            <span class="c1"># elif type(col) is str:</span>
</span><span id="UiLoader-280"><a href="#UiLoader-280"><span class="linenos">280</span></a>            <span class="c1">#     if col.endswith(&quot;fr&quot;):</span>
</span><span id="UiLoader-281"><a href="#UiLoader-281"><span class="linenos">281</span></a>            <span class="c1">#         col_dsc.append(lv.grid_fr(int(col.strip(&quot;fr&quot;))))</span>
</span><span id="UiLoader-282"><a href="#UiLoader-282"><span class="linenos">282</span></a>            <span class="c1">#     elif col == &quot;content&quot;:</span>
</span><span id="UiLoader-283"><a href="#UiLoader-283"><span class="linenos">283</span></a>            <span class="c1">#         col_dsc.append(lv.GRID_CONTENT)</span>
</span><span id="UiLoader-284"><a href="#UiLoader-284"><span class="linenos">284</span></a>            <span class="c1">#     else:</span>
</span><span id="UiLoader-285"><a href="#UiLoader-285"><span class="linenos">285</span></a>            <span class="c1">#         raise ValueError(f&quot;Unsupported column description: {col}. Must be an integer, &#39;#fr&#39; value or &#39;content&#39;.&quot;)</span>
</span><span id="UiLoader-286"><a href="#UiLoader-286"><span class="linenos">286</span></a>        <span class="n">row_dsc</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="UiLoader-287"><a href="#UiLoader-287"><span class="linenos">287</span></a>        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">][</span><span class="s2">&quot;row_dsc&quot;</span><span class="p">]:</span>
</span><span id="UiLoader-288"><a href="#UiLoader-288"><span class="linenos">288</span></a>            <span class="n">row_dsc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">GRID_CONTENT</span><span class="p">)</span> <span class="c1"># NOTE Hotfix for ChatGPT (always use content for proper sizes)</span>
</span><span id="UiLoader-289"><a href="#UiLoader-289"><span class="linenos">289</span></a>            <span class="c1"># if type(row) is int:</span>
</span><span id="UiLoader-290"><a href="#UiLoader-290"><span class="linenos">290</span></a>            <span class="c1">#     row_dsc.append(row)</span>
</span><span id="UiLoader-291"><a href="#UiLoader-291"><span class="linenos">291</span></a>            <span class="c1"># elif type(row) is str:</span>
</span><span id="UiLoader-292"><a href="#UiLoader-292"><span class="linenos">292</span></a>            <span class="c1">#     if row.endswith(&quot;fr&quot;):</span>
</span><span id="UiLoader-293"><a href="#UiLoader-293"><span class="linenos">293</span></a>            <span class="c1">#         row_dsc.append(lv.grid_fr(int(row.strip(&quot;fr&quot;))))</span>
</span><span id="UiLoader-294"><a href="#UiLoader-294"><span class="linenos">294</span></a>            <span class="c1">#     elif row == &quot;content&quot;:</span>
</span><span id="UiLoader-295"><a href="#UiLoader-295"><span class="linenos">295</span></a>            <span class="c1">#         row_dsc.append(lv.GRID_CONTENT)</span>
</span><span id="UiLoader-296"><a href="#UiLoader-296"><span class="linenos">296</span></a>            <span class="c1">#     else:</span>
</span><span id="UiLoader-297"><a href="#UiLoader-297"><span class="linenos">297</span></a>            <span class="c1">#         raise ValueError(f&quot;Unsupported row description: {row}. Must be an integer, &#39;#fr&#39; value or &#39;content&#39;.&quot;)</span>
</span><span id="UiLoader-298"><a href="#UiLoader-298"><span class="linenos">298</span></a>        <span class="n">container</span><span class="o">.</span><span class="n">set_grid_dsc_array</span><span class="p">(</span><span class="n">col_dsc</span><span class="p">,</span> <span class="n">row_dsc</span><span class="p">)</span>
</span><span id="UiLoader-299"><a href="#UiLoader-299"><span class="linenos">299</span></a>
</span><span id="UiLoader-300"><a href="#UiLoader-300"><span class="linenos">300</span></a>    <span class="k">def</span> <span class="nf">create_random_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
</span><span id="UiLoader-301"><a href="#UiLoader-301"><span class="linenos">301</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-302"><a href="#UiLoader-302"><span class="linenos">302</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader-303"><a href="#UiLoader-303"><span class="linenos">303</span></a><span class="sd">        - `element` The JSON element to create the random widget from.</span>
</span><span id="UiLoader-304"><a href="#UiLoader-304"><span class="linenos">304</span></a>
</span><span id="UiLoader-305"><a href="#UiLoader-305"><span class="linenos">305</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader-306"><a href="#UiLoader-306"><span class="linenos">306</span></a><span class="sd">        - `lv.obj | lv.button | lv.label | lv.image | lv.line | lv.bar | lv.slider | lv.switch | lv.checkbox | lv.roller | lv.dropdown | lv.textarea | lv.chart` The created random widget object.</span>
</span><span id="UiLoader-307"><a href="#UiLoader-307"><span class="linenos">307</span></a>
</span><span id="UiLoader-308"><a href="#UiLoader-308"><span class="linenos">308</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader-309"><a href="#UiLoader-309"><span class="linenos">309</span></a><span class="sd">        - `ValueError` If the `parent_id`, `count`, or `widget_list` properties are missing or invalid.</span>
</span><span id="UiLoader-310"><a href="#UiLoader-310"><span class="linenos">310</span></a>
</span><span id="UiLoader-311"><a href="#UiLoader-311"><span class="linenos">311</span></a><span class="sd">        Create a random widget based on the JSON element.</span>
</span><span id="UiLoader-312"><a href="#UiLoader-312"><span class="linenos">312</span></a><span class="sd">        A random type is chosen from the &#39;widget_list&#39; property. The chosen type is then passed to the widget creation function.</span>
</span><span id="UiLoader-313"><a href="#UiLoader-313"><span class="linenos">313</span></a><span class="sd">        This is done X times based on the &#39;count&#39; property.</span>
</span><span id="UiLoader-314"><a href="#UiLoader-314"><span class="linenos">314</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-315"><a href="#UiLoader-315"><span class="linenos">315</span></a>        <span class="k">if</span> <span class="s2">&quot;parent_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;parent_id&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="UiLoader-316"><a href="#UiLoader-316"><span class="linenos">316</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Random widget must have &#39;parent_id&#39; of type str: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-317"><a href="#UiLoader-317"><span class="linenos">317</span></a>        <span class="k">if</span> <span class="s2">&quot;count&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader-318"><a href="#UiLoader-318"><span class="linenos">318</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Random widget must have &#39;count&#39; of type int: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-319"><a href="#UiLoader-319"><span class="linenos">319</span></a>        <span class="k">if</span> <span class="s2">&quot;widget_list&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;widget_list&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="UiLoader-320"><a href="#UiLoader-320"><span class="linenos">320</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Random widget must have &#39;widget_list&#39; of type list: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-321"><a href="#UiLoader-321"><span class="linenos">321</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">]):</span>
</span><span id="UiLoader-322"><a href="#UiLoader-322"><span class="linenos">322</span></a>            <span class="n">element</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;widget_list&quot;</span><span class="p">])</span>
</span><span id="UiLoader-323"><a href="#UiLoader-323"><span class="linenos">323</span></a>            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_widget</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</span><span id="UiLoader-324"><a href="#UiLoader-324"><span class="linenos">324</span></a>            <span class="n">widget</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">[</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;parent_id&quot;</span><span class="p">]])</span>
</span><span id="UiLoader-325"><a href="#UiLoader-325"><span class="linenos">325</span></a>            <span class="k">if</span> <span class="s2">&quot;style&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="UiLoader-326"><a href="#UiLoader-326"><span class="linenos">326</span></a>                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="UiLoader-327"><a href="#UiLoader-327"><span class="linenos">327</span></a>                    <span class="k">for</span> <span class="n">style</span> <span class="ow">in</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">]:</span>
</span><span id="UiLoader-328"><a href="#UiLoader-328"><span class="linenos">328</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">apply_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span>
</span><span id="UiLoader-329"><a href="#UiLoader-329"><span class="linenos">329</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader-330"><a href="#UiLoader-330"><span class="linenos">330</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">apply_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">])</span>
</span><span id="UiLoader-331"><a href="#UiLoader-331"><span class="linenos">331</span></a>            <span class="k">if</span> <span class="s2">&quot;placement&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="UiLoader-332"><a href="#UiLoader-332"><span class="linenos">332</span></a>                <span class="c1"># NOTE Assuming parent is grid layout if &quot;placement&quot; is present</span>
</span><span id="UiLoader-333"><a href="#UiLoader-333"><span class="linenos">333</span></a>                <span class="c1"># FIXME placement should be adjusted for each created random widget, as they can&#39;t all be in the same spot</span>
</span><span id="UiLoader-334"><a href="#UiLoader-334"><span class="linenos">334</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">place_widget_in_grid</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
</span><span id="UiLoader-335"><a href="#UiLoader-335"><span class="linenos">335</span></a>        <span class="k">return</span> <span class="n">widget</span>
</span><span id="UiLoader-336"><a href="#UiLoader-336"><span class="linenos">336</span></a>    
</span><span id="UiLoader-337"><a href="#UiLoader-337"><span class="linenos">337</span></a>    <span class="k">def</span> <span class="nf">place_widget_in_grid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">child_element</span><span class="p">):</span>
</span><span id="UiLoader-338"><a href="#UiLoader-338"><span class="linenos">338</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-339"><a href="#UiLoader-339"><span class="linenos">339</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader-340"><a href="#UiLoader-340"><span class="linenos">340</span></a><span class="sd">        - `widget` The widget to place in the grid container.</span>
</span><span id="UiLoader-341"><a href="#UiLoader-341"><span class="linenos">341</span></a><span class="sd">        - `child_element` The JSON element of the child widget to place in the grid container.</span>
</span><span id="UiLoader-342"><a href="#UiLoader-342"><span class="linenos">342</span></a>
</span><span id="UiLoader-343"><a href="#UiLoader-343"><span class="linenos">343</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader-344"><a href="#UiLoader-344"><span class="linenos">344</span></a><span class="sd">        - `ValueError` If the `placement` property is missing or invalid.</span>
</span><span id="UiLoader-345"><a href="#UiLoader-345"><span class="linenos">345</span></a><span class="sd">        - `ValueError` If the `col_pos`, `col_span`, `row_pos`, or `row_span` properties are missing or invalid.</span>
</span><span id="UiLoader-346"><a href="#UiLoader-346"><span class="linenos">346</span></a>
</span><span id="UiLoader-347"><a href="#UiLoader-347"><span class="linenos">347</span></a><span class="sd">        Place the provided child widget in the grid container widget based on the &#39;placement&#39; property in the child JSON element.</span>
</span><span id="UiLoader-348"><a href="#UiLoader-348"><span class="linenos">348</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-349"><a href="#UiLoader-349"><span class="linenos">349</span></a>        <span class="k">if</span> <span class="s2">&quot;placement&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="UiLoader-350"><a href="#UiLoader-350"><span class="linenos">350</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;placement&#39; property of type &#39;dict&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-351"><a href="#UiLoader-351"><span class="linenos">351</span></a>        <span class="c1"># placement options: column_align: Unknown, col_pos: int, col_span: int, row_align: Unknown, row_pos: int, row_span: int</span>
</span><span id="UiLoader-352"><a href="#UiLoader-352"><span class="linenos">352</span></a>        <span class="k">if</span> <span class="s2">&quot;col_pos&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;col_pos&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader-353"><a href="#UiLoader-353"><span class="linenos">353</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;col_pos&#39; property of type &#39;int&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-354"><a href="#UiLoader-354"><span class="linenos">354</span></a>        <span class="k">if</span> <span class="s2">&quot;col_span&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;col_span&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader-355"><a href="#UiLoader-355"><span class="linenos">355</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;col_span&#39; property of type &#39;int&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-356"><a href="#UiLoader-356"><span class="linenos">356</span></a>        <span class="k">if</span> <span class="s2">&quot;row_pos&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;row_pos&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader-357"><a href="#UiLoader-357"><span class="linenos">357</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;row_pos&#39; property of type &#39;int&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-358"><a href="#UiLoader-358"><span class="linenos">358</span></a>        <span class="k">if</span> <span class="s2">&quot;row_span&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;row_span&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span> 
</span><span id="UiLoader-359"><a href="#UiLoader-359"><span class="linenos">359</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;row_span&#39; property of type &#39;int&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-360"><a href="#UiLoader-360"><span class="linenos">360</span></a>        <span class="n">row_align</span> <span class="o">=</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;row_align&quot;</span><span class="p">,</span> <span class="s2">&quot;space_evenly&quot;</span><span class="p">)</span>
</span><span id="UiLoader-361"><a href="#UiLoader-361"><span class="linenos">361</span></a>        <span class="n">col_align</span> <span class="o">=</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;col_align&quot;</span><span class="p">,</span> <span class="s2">&quot;space_evenly&quot;</span><span class="p">)</span>
</span><span id="UiLoader-362"><a href="#UiLoader-362"><span class="linenos">362</span></a>        <span class="n">row_align</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">GRID_ALIGN</span><span class="p">,</span> <span class="n">row_align</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">lv</span><span class="o">.</span><span class="n">GRID_ALIGN</span><span class="o">.</span><span class="n">SPACE_EVENLY</span><span class="p">)</span>
</span><span id="UiLoader-363"><a href="#UiLoader-363"><span class="linenos">363</span></a>        <span class="n">col_align</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">GRID_ALIGN</span><span class="p">,</span> <span class="n">col_align</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">lv</span><span class="o">.</span><span class="n">GRID_ALIGN</span><span class="o">.</span><span class="n">SPACE_EVENLY</span><span class="p">)</span>
</span><span id="UiLoader-364"><a href="#UiLoader-364"><span class="linenos">364</span></a>        <span class="n">widget</span><span class="o">.</span><span class="n">set_grid_cell</span><span class="p">(</span><span class="n">col_align</span><span class="p">,</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;col_pos&quot;</span><span class="p">],</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;col_span&quot;</span><span class="p">],</span> <span class="n">row_align</span><span class="p">,</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;row_pos&quot;</span><span class="p">],</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;row_span&quot;</span><span class="p">])</span>
</span><span id="UiLoader-365"><a href="#UiLoader-365"><span class="linenos">365</span></a>
</span><span id="UiLoader-366"><a href="#UiLoader-366"><span class="linenos">366</span></a><span class="c1"># TODO Should update the JSON tree with all randomly created values to export the UI back to JSON again</span>
</span><span id="UiLoader-367"><a href="#UiLoader-367"><span class="linenos">367</span></a>    
</span><span id="UiLoader-368"><a href="#UiLoader-368"><span class="linenos">368</span></a><span class="c1"># NOTE ------------ STYLE CREATION METHODS ------------</span>
</span><span id="UiLoader-369"><a href="#UiLoader-369"><span class="linenos">369</span></a>    
</span><span id="UiLoader-370"><a href="#UiLoader-370"><span class="linenos">370</span></a>    <span class="k">def</span> <span class="nf">create_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style_def</span><span class="p">):</span>
</span><span id="UiLoader-371"><a href="#UiLoader-371"><span class="linenos">371</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-372"><a href="#UiLoader-372"><span class="linenos">372</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader-373"><a href="#UiLoader-373"><span class="linenos">373</span></a><span class="sd">        - `style_def` The JSON style definition to create the style object from.</span>
</span><span id="UiLoader-374"><a href="#UiLoader-374"><span class="linenos">374</span></a>
</span><span id="UiLoader-375"><a href="#UiLoader-375"><span class="linenos">375</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader-376"><a href="#UiLoader-376"><span class="linenos">376</span></a><span class="sd">        - `lv.style_t` The created style object.</span>
</span><span id="UiLoader-377"><a href="#UiLoader-377"><span class="linenos">377</span></a>
</span><span id="UiLoader-378"><a href="#UiLoader-378"><span class="linenos">378</span></a><span class="sd">        Create an LVGL style object based on the style definition provided in the JSON data.</span>
</span><span id="UiLoader-379"><a href="#UiLoader-379"><span class="linenos">379</span></a><span class="sd">        Provided style property values are converted to the required type, according to conversion rules of the called conversion function.</span>
</span><span id="UiLoader-380"><a href="#UiLoader-380"><span class="linenos">380</span></a><span class="sd">        If a style property is not recognized, a message is printed to the console and the property is skipped.</span>
</span><span id="UiLoader-381"><a href="#UiLoader-381"><span class="linenos">381</span></a><span class="sd">        If value conversion fails, a message is printed to the console and the property is skipped.</span>
</span><span id="UiLoader-382"><a href="#UiLoader-382"><span class="linenos">382</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-383"><a href="#UiLoader-383"><span class="linenos">383</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating style: </span><span class="si">{</span><span class="n">style_def</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-384"><a href="#UiLoader-384"><span class="linenos">384</span></a>        <span class="n">style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">style_t</span><span class="p">()</span> <span class="c1"># FIXME missing parameter &#39;args&#39; of type &#39;_style_t_type&#39; (unresolved) - ignore?</span>
</span><span id="UiLoader-385"><a href="#UiLoader-385"><span class="linenos">385</span></a>        <span class="n">style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
</span><span id="UiLoader-386"><a href="#UiLoader-386"><span class="linenos">386</span></a>
</span><span id="UiLoader-387"><a href="#UiLoader-387"><span class="linenos">387</span></a>        <span class="k">for</span> <span class="n">prop</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">style_def</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="UiLoader-388"><a href="#UiLoader-388"><span class="linenos">388</span></a>            <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;selector&quot;</span><span class="p">:</span>
</span><span id="UiLoader-389"><a href="#UiLoader-389"><span class="linenos">389</span></a>                <span class="k">continue</span>
</span><span id="UiLoader-390"><a href="#UiLoader-390"><span class="linenos">390</span></a>            <span class="n">setter_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;set_</span><span class="si">{</span><span class="n">prop</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="UiLoader-391"><a href="#UiLoader-391"><span class="linenos">391</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="n">setter_name</span><span class="p">):</span>
</span><span id="UiLoader-392"><a href="#UiLoader-392"><span class="linenos">392</span></a>                <span class="n">setter</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="n">setter_name</span><span class="p">)</span>
</span><span id="UiLoader-393"><a href="#UiLoader-393"><span class="linenos">393</span></a>                <span class="n">converted_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_value</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="UiLoader-394"><a href="#UiLoader-394"><span class="linenos">394</span></a>                <span class="k">if</span><span class="p">(</span><span class="n">converted_value</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="UiLoader-395"><a href="#UiLoader-395"><span class="linenos">395</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported value conversion: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> for style property </span><span class="si">{</span><span class="n">prop</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-396"><a href="#UiLoader-396"><span class="linenos">396</span></a>                    <span class="k">continue</span>
</span><span id="UiLoader-397"><a href="#UiLoader-397"><span class="linenos">397</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="UiLoader-398"><a href="#UiLoader-398"><span class="linenos">398</span></a>                    <span class="n">setter</span><span class="p">(</span><span class="n">converted_value</span><span class="p">)</span>
</span><span id="UiLoader-399"><a href="#UiLoader-399"><span class="linenos">399</span></a>                <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="UiLoader-400"><a href="#UiLoader-400"><span class="linenos">400</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TypeError setting style property </span><span class="si">{</span><span class="n">prop</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-401"><a href="#UiLoader-401"><span class="linenos">401</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader-402"><a href="#UiLoader-402"><span class="linenos">402</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported style property: </span><span class="si">{</span><span class="n">prop</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-403"><a href="#UiLoader-403"><span class="linenos">403</span></a>
</span><span id="UiLoader-404"><a href="#UiLoader-404"><span class="linenos">404</span></a>        <span class="k">return</span> <span class="n">style</span>
</span><span id="UiLoader-405"><a href="#UiLoader-405"><span class="linenos">405</span></a>    
</span><span id="UiLoader-406"><a href="#UiLoader-406"><span class="linenos">406</span></a>    <span class="k">def</span> <span class="nf">convert_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prop_name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="UiLoader-407"><a href="#UiLoader-407"><span class="linenos">407</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-408"><a href="#UiLoader-408"><span class="linenos">408</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader-409"><a href="#UiLoader-409"><span class="linenos">409</span></a><span class="sd">        - `prop_name` The name of the property to convert the value for.</span>
</span><span id="UiLoader-410"><a href="#UiLoader-410"><span class="linenos">410</span></a><span class="sd">        - `value` The value to convert to the required type.</span>
</span><span id="UiLoader-411"><a href="#UiLoader-411"><span class="linenos">411</span></a>
</span><span id="UiLoader-412"><a href="#UiLoader-412"><span class="linenos">412</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader-413"><a href="#UiLoader-413"><span class="linenos">413</span></a><span class="sd">        - `int | str | lv.color_t | lv.font_t | lv.align_t | lv.OPA | None` The converted value based on the property name.</span>
</span><span id="UiLoader-414"><a href="#UiLoader-414"><span class="linenos">414</span></a><span class="sd">        - `None` If the conversion fails.</span>
</span><span id="UiLoader-415"><a href="#UiLoader-415"><span class="linenos">415</span></a>
</span><span id="UiLoader-416"><a href="#UiLoader-416"><span class="linenos">416</span></a><span class="sd">        Convert the provided value to the required type based on the property name.</span>
</span><span id="UiLoader-417"><a href="#UiLoader-417"><span class="linenos">417</span></a><span class="sd">        If there is no conversion available for the property, None is returned. (i.e. conversion fails)</span>
</span><span id="UiLoader-418"><a href="#UiLoader-418"><span class="linenos">418</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-419"><a href="#UiLoader-419"><span class="linenos">419</span></a>        <span class="c1"># This function converts the value based on the property name</span>
</span><span id="UiLoader-420"><a href="#UiLoader-420"><span class="linenos">420</span></a>        <span class="k">if</span> <span class="s2">&quot;color&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="UiLoader-421"><a href="#UiLoader-421"><span class="linenos">421</span></a>            <span class="n">converted_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">),</span> <span class="mi">16</span><span class="p">)</span>
</span><span id="UiLoader-422"><a href="#UiLoader-422"><span class="linenos">422</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;set_</span><span class="si">{</span><span class="n">prop_name</span><span class="si">}</span><span class="s2">: Color property conversion:</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> =&gt; </span><span class="si">{</span><span class="n">converted_value</span><span class="si">:</span><span class="s2">x</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-423"><a href="#UiLoader-423"><span class="linenos">423</span></a>            <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">color_hex</span><span class="p">(</span><span class="n">converted_value</span><span class="p">)</span>
</span><span id="UiLoader-424"><a href="#UiLoader-424"><span class="linenos">424</span></a>        <span class="k">elif</span> <span class="s2">&quot;font&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="UiLoader-425"><a href="#UiLoader-425"><span class="linenos">425</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Font property: </span><span class="si">{</span><span class="n">prop_name</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-426"><a href="#UiLoader-426"><span class="linenos">426</span></a>            <span class="c1"># TODO micropython doesn&#39;t support font ?</span>
</span><span id="UiLoader-427"><a href="#UiLoader-427"><span class="linenos">427</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="UiLoader-428"><a href="#UiLoader-428"><span class="linenos">428</span></a>        <span class="k">elif</span> <span class="s2">&quot;align&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="UiLoader-429"><a href="#UiLoader-429"><span class="linenos">429</span></a>            <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;center&quot;</span><span class="p">:</span>
</span><span id="UiLoader-430"><a href="#UiLoader-430"><span class="linenos">430</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">CENTER</span>
</span><span id="UiLoader-431"><a href="#UiLoader-431"><span class="linenos">431</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;top-left&quot;</span><span class="p">:</span>
</span><span id="UiLoader-432"><a href="#UiLoader-432"><span class="linenos">432</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">TOP_LEFT</span>
</span><span id="UiLoader-433"><a href="#UiLoader-433"><span class="linenos">433</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;top-right&quot;</span><span class="p">:</span>
</span><span id="UiLoader-434"><a href="#UiLoader-434"><span class="linenos">434</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">TOP_RIGHT</span>
</span><span id="UiLoader-435"><a href="#UiLoader-435"><span class="linenos">435</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;top&quot;</span><span class="p">:</span>
</span><span id="UiLoader-436"><a href="#UiLoader-436"><span class="linenos">436</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">TOP_MID</span>
</span><span id="UiLoader-437"><a href="#UiLoader-437"><span class="linenos">437</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;bottom-left&quot;</span><span class="p">:</span>
</span><span id="UiLoader-438"><a href="#UiLoader-438"><span class="linenos">438</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">BOTTOM_LEFT</span>
</span><span id="UiLoader-439"><a href="#UiLoader-439"><span class="linenos">439</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;bottom-right&quot;</span><span class="p">:</span>
</span><span id="UiLoader-440"><a href="#UiLoader-440"><span class="linenos">440</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">BOTTOM_RIGHT</span>
</span><span id="UiLoader-441"><a href="#UiLoader-441"><span class="linenos">441</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;bottom&quot;</span><span class="p">:</span>
</span><span id="UiLoader-442"><a href="#UiLoader-442"><span class="linenos">442</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">BOTTOM_MID</span>
</span><span id="UiLoader-443"><a href="#UiLoader-443"><span class="linenos">443</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;left&quot;</span><span class="p">:</span>
</span><span id="UiLoader-444"><a href="#UiLoader-444"><span class="linenos">444</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">LEFT_MID</span>
</span><span id="UiLoader-445"><a href="#UiLoader-445"><span class="linenos">445</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;right&quot;</span><span class="p">:</span>
</span><span id="UiLoader-446"><a href="#UiLoader-446"><span class="linenos">446</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">RIGHT_MID</span>
</span><span id="UiLoader-447"><a href="#UiLoader-447"><span class="linenos">447</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader-448"><a href="#UiLoader-448"><span class="linenos">448</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">DEFAULT</span>
</span><span id="UiLoader-449"><a href="#UiLoader-449"><span class="linenos">449</span></a>        <span class="k">elif</span> <span class="s2">&quot;opa&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="UiLoader-450"><a href="#UiLoader-450"><span class="linenos">450</span></a>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader-451"><a href="#UiLoader-451"><span class="linenos">451</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prop_name</span><span class="si">}</span><span class="s2">: Invalid opacity value: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> (expected int)&quot;</span><span class="p">)</span>
</span><span id="UiLoader-452"><a href="#UiLoader-452"><span class="linenos">452</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="UiLoader-453"><a href="#UiLoader-453"><span class="linenos">453</span></a>            <span class="n">opacity</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span>
</span><span id="UiLoader-454"><a href="#UiLoader-454"><span class="linenos">454</span></a>            <span class="k">if</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="UiLoader-455"><a href="#UiLoader-455"><span class="linenos">455</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_0</span>
</span><span id="UiLoader-456"><a href="#UiLoader-456"><span class="linenos">456</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="UiLoader-457"><a href="#UiLoader-457"><span class="linenos">457</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_10</span>
</span><span id="UiLoader-458"><a href="#UiLoader-458"><span class="linenos">458</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="UiLoader-459"><a href="#UiLoader-459"><span class="linenos">459</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_20</span>
</span><span id="UiLoader-460"><a href="#UiLoader-460"><span class="linenos">460</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="UiLoader-461"><a href="#UiLoader-461"><span class="linenos">461</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_30</span>
</span><span id="UiLoader-462"><a href="#UiLoader-462"><span class="linenos">462</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
</span><span id="UiLoader-463"><a href="#UiLoader-463"><span class="linenos">463</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_40</span>
</span><span id="UiLoader-464"><a href="#UiLoader-464"><span class="linenos">464</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
</span><span id="UiLoader-465"><a href="#UiLoader-465"><span class="linenos">465</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_50</span>
</span><span id="UiLoader-466"><a href="#UiLoader-466"><span class="linenos">466</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
</span><span id="UiLoader-467"><a href="#UiLoader-467"><span class="linenos">467</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_60</span>
</span><span id="UiLoader-468"><a href="#UiLoader-468"><span class="linenos">468</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
</span><span id="UiLoader-469"><a href="#UiLoader-469"><span class="linenos">469</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_70</span>
</span><span id="UiLoader-470"><a href="#UiLoader-470"><span class="linenos">470</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="UiLoader-471"><a href="#UiLoader-471"><span class="linenos">471</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_80</span>
</span><span id="UiLoader-472"><a href="#UiLoader-472"><span class="linenos">472</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">9</span><span class="p">:</span>
</span><span id="UiLoader-473"><a href="#UiLoader-473"><span class="linenos">473</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_90</span>
</span><span id="UiLoader-474"><a href="#UiLoader-474"><span class="linenos">474</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
</span><span id="UiLoader-475"><a href="#UiLoader-475"><span class="linenos">475</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_100</span>
</span><span id="UiLoader-476"><a href="#UiLoader-476"><span class="linenos">476</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader-477"><a href="#UiLoader-477"><span class="linenos">477</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">TRANSP</span>
</span><span id="UiLoader-478"><a href="#UiLoader-478"><span class="linenos">478</span></a>        <span class="k">elif</span> <span class="s2">&quot;width&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span> <span class="ow">or</span> <span class="s2">&quot;height&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="UiLoader-479"><a href="#UiLoader-479"><span class="linenos">479</span></a>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="UiLoader-480"><a href="#UiLoader-480"><span class="linenos">480</span></a>                <span class="c1"># FIXME Percentage values should be calculated in relation to the parent widget</span>
</span><span id="UiLoader-481"><a href="#UiLoader-481"><span class="linenos">481</span></a>                <span class="n">new_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;width&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span> <span class="k">else</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span><span id="UiLoader-482"><a href="#UiLoader-482"><span class="linenos">482</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Size property conversion: </span><span class="si">{</span><span class="n">prop_name</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> =&gt; </span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-483"><a href="#UiLoader-483"><span class="linenos">483</span></a>                <span class="k">return</span> <span class="n">new_value</span>
</span><span id="UiLoader-484"><a href="#UiLoader-484"><span class="linenos">484</span></a>            <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader-485"><a href="#UiLoader-485"><span class="linenos">485</span></a>                <span class="k">return</span> <span class="n">value</span>
</span><span id="UiLoader-486"><a href="#UiLoader-486"><span class="linenos">486</span></a>        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader-487"><a href="#UiLoader-487"><span class="linenos">487</span></a>            <span class="k">return</span> <span class="n">value</span>
</span><span id="UiLoader-488"><a href="#UiLoader-488"><span class="linenos">488</span></a>        <span class="k">elif</span> <span class="n">prop_name</span> <span class="o">==</span> <span class="s2">&quot;selector&quot;</span><span class="p">:</span>
</span><span id="UiLoader-489"><a href="#UiLoader-489"><span class="linenos">489</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">()):</span>
</span><span id="UiLoader-490"><a href="#UiLoader-490"><span class="linenos">490</span></a>                <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
</span><span id="UiLoader-491"><a href="#UiLoader-491"><span class="linenos">491</span></a>            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">STATE</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">()):</span>
</span><span id="UiLoader-492"><a href="#UiLoader-492"><span class="linenos">492</span></a>                <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">STATE</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
</span><span id="UiLoader-493"><a href="#UiLoader-493"><span class="linenos">493</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader-494"><a href="#UiLoader-494"><span class="linenos">494</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="UiLoader-495"><a href="#UiLoader-495"><span class="linenos">495</span></a>        <span class="c1"># TODO Add more conversions as needed for other property types</span>
</span><span id="UiLoader-496"><a href="#UiLoader-496"><span class="linenos">496</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="UiLoader-497"><a href="#UiLoader-497"><span class="linenos">497</span></a>
</span><span id="UiLoader-498"><a href="#UiLoader-498"><span class="linenos">498</span></a>    <span class="k">def</span> <span class="nf">apply_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">style_name</span><span class="p">):</span>
</span><span id="UiLoader-499"><a href="#UiLoader-499"><span class="linenos">499</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-500"><a href="#UiLoader-500"><span class="linenos">500</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader-501"><a href="#UiLoader-501"><span class="linenos">501</span></a><span class="sd">        - `widget` The widget object to apply the style to.</span>
</span><span id="UiLoader-502"><a href="#UiLoader-502"><span class="linenos">502</span></a><span class="sd">        - `style_name` The name of the style to apply to the widget.</span>
</span><span id="UiLoader-503"><a href="#UiLoader-503"><span class="linenos">503</span></a>
</span><span id="UiLoader-504"><a href="#UiLoader-504"><span class="linenos">504</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader-505"><a href="#UiLoader-505"><span class="linenos">505</span></a><span class="sd">        - `ValueError` If the style does not exist in the JSON data.</span>
</span><span id="UiLoader-506"><a href="#UiLoader-506"><span class="linenos">506</span></a>
</span><span id="UiLoader-507"><a href="#UiLoader-507"><span class="linenos">507</span></a><span class="sd">        Lookup the style name in the list of styles and apply the created style object to the widget.</span>
</span><span id="UiLoader-508"><a href="#UiLoader-508"><span class="linenos">508</span></a><span class="sd">        If the style name is not found in the list of styles, a new style is created and added to the list.</span>
</span><span id="UiLoader-509"><a href="#UiLoader-509"><span class="linenos">509</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-510"><a href="#UiLoader-510"><span class="linenos">510</span></a>        <span class="c1"># Style application logic goes here</span>
</span><span id="UiLoader-511"><a href="#UiLoader-511"><span class="linenos">511</span></a>        <span class="c1"># For example, lookup a style in self.data[&quot;ui&quot;][&quot;styles&quot;] and apply it to the widget</span>
</span><span id="UiLoader-512"><a href="#UiLoader-512"><span class="linenos">512</span></a>        <span class="k">if</span> <span class="n">style_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">:</span>
</span><span id="UiLoader-513"><a href="#UiLoader-513"><span class="linenos">513</span></a>            <span class="k">if</span> <span class="n">style_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;styles&quot;</span><span class="p">]:</span>
</span><span id="UiLoader-514"><a href="#UiLoader-514"><span class="linenos">514</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Style not found: </span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-515"><a href="#UiLoader-515"><span class="linenos">515</span></a>            <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_style</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;styles&quot;</span><span class="p">][</span><span class="n">style_name</span><span class="p">])</span>
</span><span id="UiLoader-516"><a href="#UiLoader-516"><span class="linenos">516</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="n">style_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">style</span>
</span><span id="UiLoader-517"><a href="#UiLoader-517"><span class="linenos">517</span></a>            <span class="k">if</span> <span class="s2">&quot;selector&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;styles&quot;</span><span class="p">][</span><span class="n">style_name</span><span class="p">]:</span>
</span><span id="UiLoader-518"><a href="#UiLoader-518"><span class="linenos">518</span></a>                <span class="n">selector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_value</span><span class="p">(</span><span class="s2">&quot;selector&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;styles&quot;</span><span class="p">][</span><span class="n">style_name</span><span class="p">][</span><span class="s2">&quot;selector&quot;</span><span class="p">])</span>
</span><span id="UiLoader-519"><a href="#UiLoader-519"><span class="linenos">519</span></a>                <span class="k">if</span> <span class="n">selector</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="UiLoader-520"><a href="#UiLoader-520"><span class="linenos">520</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid selector value for style: </span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s1">&#39;styles&#39;</span><span class="p">][</span><span class="n">style_name</span><span class="p">][</span><span class="s1">&#39;selector&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-521"><a href="#UiLoader-521"><span class="linenos">521</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">_selector&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">MAIN</span>
</span><span id="UiLoader-522"><a href="#UiLoader-522"><span class="linenos">522</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader-523"><a href="#UiLoader-523"><span class="linenos">523</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">_selector&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">selector</span>
</span><span id="UiLoader-524"><a href="#UiLoader-524"><span class="linenos">524</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader-525"><a href="#UiLoader-525"><span class="linenos">525</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">_selector&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">MAIN</span>
</span><span id="UiLoader-526"><a href="#UiLoader-526"><span class="linenos">526</span></a>        <span class="n">widget</span><span class="o">.</span><span class="n">add_style</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="n">style_name</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">_selector&quot;</span><span class="p">])</span>
</span><span id="UiLoader-527"><a href="#UiLoader-527"><span class="linenos">527</span></a>
</span><span id="UiLoader-528"><a href="#UiLoader-528"><span class="linenos">528</span></a>    <span class="k">def</span> <span class="nf">update_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UiLoader-529"><a href="#UiLoader-529"><span class="linenos">529</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Re-render the screen &amp; update the layout.&quot;&quot;&quot;</span>
</span><span id="UiLoader-530"><a href="#UiLoader-530"><span class="linenos">530</span></a>        <span class="n">lv</span><span class="o">.</span><span class="n">screen_load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="p">)</span>
</span><span id="UiLoader-531"><a href="#UiLoader-531"><span class="linenos">531</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="o">.</span><span class="n">update_layout</span><span class="p">()</span>
</span><span id="UiLoader-532"><a href="#UiLoader-532"><span class="linenos">532</span></a><span class="c1"># NOTE ------------ GETTERS ------------</span>
</span><span id="UiLoader-533"><a href="#UiLoader-533"><span class="linenos">533</span></a>
</span><span id="UiLoader-534"><a href="#UiLoader-534"><span class="linenos">534</span></a>    <span class="k">def</span> <span class="nf">get_root_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UiLoader-535"><a href="#UiLoader-535"><span class="linenos">535</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the root widget object (container) of the UI.&quot;&quot;&quot;</span>
</span><span id="UiLoader-536"><a href="#UiLoader-536"><span class="linenos">536</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span>
</span><span id="UiLoader-537"><a href="#UiLoader-537"><span class="linenos">537</span></a>    
</span><span id="UiLoader-538"><a href="#UiLoader-538"><span class="linenos">538</span></a>    <span class="k">def</span> <span class="nf">get_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UI</span><span class="p">:</span>
</span><span id="UiLoader-539"><a href="#UiLoader-539"><span class="linenos">539</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-540"><a href="#UiLoader-540"><span class="linenos">540</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader-541"><a href="#UiLoader-541"><span class="linenos">541</span></a><span class="sd">        - `UI` The UI object containing the metadata.</span>
</span><span id="UiLoader-542"><a href="#UiLoader-542"><span class="linenos">542</span></a>
</span><span id="UiLoader-543"><a href="#UiLoader-543"><span class="linenos">543</span></a><span class="sd">        Return a UI object (special dictionary) containing the screen dimensions and all widget position metadata required for bounding box annotation.</span>
</span><span id="UiLoader-544"><a href="#UiLoader-544"><span class="linenos">544</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-545"><a href="#UiLoader-545"><span class="linenos">545</span></a>        <span class="n">ui</span> <span class="o">=</span> <span class="n">UI</span><span class="p">()</span>
</span><span id="UiLoader-546"><a href="#UiLoader-546"><span class="linenos">546</span></a>        <span class="n">ui</span><span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">)</span>
</span><span id="UiLoader-547"><a href="#UiLoader-547"><span class="linenos">547</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_screen</span><span class="p">()</span>
</span><span id="UiLoader-548"><a href="#UiLoader-548"><span class="linenos">548</span></a>        <span class="k">for</span> <span class="nb">id</span><span class="p">,</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="UiLoader-549"><a href="#UiLoader-549"><span class="linenos">549</span></a>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span> <span class="ow">is</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">:</span>
</span><span id="UiLoader-550"><a href="#UiLoader-550"><span class="linenos">550</span></a>                <span class="k">continue</span> <span class="c1"># Skip container widgets</span>
</span><span id="UiLoader-551"><a href="#UiLoader-551"><span class="linenos">551</span></a>            <span class="n">widget_info</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="UiLoader-552"><a href="#UiLoader-552"><span class="linenos">552</span></a>            <span class="n">tmp_coords</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">area_t</span><span class="p">()</span>
</span><span id="UiLoader-553"><a href="#UiLoader-553"><span class="linenos">553</span></a>            <span class="n">widget</span><span class="o">.</span><span class="n">get_coords</span><span class="p">(</span><span class="n">tmp_coords</span><span class="p">)</span>
</span><span id="UiLoader-554"><a href="#UiLoader-554"><span class="linenos">554</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">tmp_coords</span><span class="o">.</span><span class="n">x1</span> <span class="o">+</span> <span class="n">tmp_coords</span><span class="o">.</span><span class="n">x2</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
</span><span id="UiLoader-555"><a href="#UiLoader-555"><span class="linenos">555</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">tmp_coords</span><span class="o">.</span><span class="n">y1</span> <span class="o">+</span> <span class="n">tmp_coords</span><span class="o">.</span><span class="n">y2</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
</span><span id="UiLoader-556"><a href="#UiLoader-556"><span class="linenos">556</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
</span><span id="UiLoader-557"><a href="#UiLoader-557"><span class="linenos">557</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;height&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
</span><span id="UiLoader-558"><a href="#UiLoader-558"><span class="linenos">558</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="UiLoader-559"><a href="#UiLoader-559"><span class="linenos">559</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Widget </span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">widget_info</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader-560"><a href="#UiLoader-560"><span class="linenos">560</span></a>            <span class="n">ui</span><span class="p">[</span><span class="s2">&quot;objects&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">widget_info</span><span class="p">)</span>
</span><span id="UiLoader-561"><a href="#UiLoader-561"><span class="linenos">561</span></a>        <span class="k">return</span> <span class="n">ui</span>
</span><span id="UiLoader-562"><a href="#UiLoader-562"><span class="linenos">562</span></a>    
</span><span id="UiLoader-563"><a href="#UiLoader-563"><span class="linenos">563</span></a>    <span class="k">def</span> <span class="nf">cleanup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UiLoader-564"><a href="#UiLoader-564"><span class="linenos">564</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader-565"><a href="#UiLoader-565"><span class="linenos">565</span></a><span class="sd">        Cleanup the screen and widgets, destroying all created objects.</span>
</span><span id="UiLoader-566"><a href="#UiLoader-566"><span class="linenos">566</span></a><span class="sd">        Note that this function will cause a known error when sub-widgets are indirectly deleted by destroying their parent container.</span>
</span><span id="UiLoader-567"><a href="#UiLoader-567"><span class="linenos">567</span></a><span class="sd">        That error is safe to ignore, as the widgets should be properly deleted by LVGL.</span>
</span><span id="UiLoader-568"><a href="#UiLoader-568"><span class="linenos">568</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader-569"><a href="#UiLoader-569"><span class="linenos">569</span></a>        <span class="c1"># Cleanup the screen and widgets (passing twice to delete widgets before containers)</span>
</span><span id="UiLoader-570"><a href="#UiLoader-570"><span class="linenos">570</span></a>        <span class="k">for</span> <span class="nb">id</span><span class="p">,</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="UiLoader-571"><a href="#UiLoader-571"><span class="linenos">571</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="UiLoader-572"><a href="#UiLoader-572"><span class="linenos">572</span></a>                <span class="n">widget</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</span><span id="UiLoader-573"><a href="#UiLoader-573"><span class="linenos">573</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</span><span id="UiLoader-574"><a href="#UiLoader-574"><span class="linenos">574</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="UiLoader-575"><a href="#UiLoader-575"><span class="linenos">575</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error deleting widget </span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A class to load and parse UI designs from JSON files.</p>

<p><strong>Class Attributes:</strong></p>

<ul>
<li><code><a href="#UiLoader.special_types">special_types</a></code> A list of special widget types that require custom creation logic.</li>
<li><code><a href="#UiLoader.valid_types">valid_types</a></code> A list of all valid widget types that can be created.</li>
<li><code><a href="#UiLoader.valid_layouts">valid_layouts</a></code> A list of valid layout types for container widgets.</li>
<li><code><a href="#UiLoader.valid_flow">valid_flow</a></code> A list of valid flow types for flex layout containers.</li>
<li><code>_options</code> The key for the options property in a container widget.</li>
</ul>

<p><strong>Object Attributes:</strong></p>

<ul>
<li><code><a href="#UiLoader.data">data</a></code> The JSON data loaded from the file.</li>
<li><code><a href="#UiLoader.ui">ui</a></code> The 'ui' object from the JSON data.</li>
<li><code><a href="#UiLoader.widgets">widgets</a></code> A dictionary to store references to created widgets.</li>
<li><code><a href="#UiLoader.styles">styles</a></code> A dictionary to store references to created styles.</li>
<li><code>width</code> The width of the screen.</li>
<li><code>height</code> The height of the screen.</li>
<li><code>title</code> The title of the window (not used, reference for author).</li>
<li><code>screen</code> The display driver object.</li>
<li><code>root_widget</code> The root widget object of the UI.</li>
</ul>
</div>


                            <div id="UiLoader.__init__" class="classattr">
                                        <input id="UiLoader.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">UiLoader</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">json_file</span><span class="p">:</span> <span class="nb">str</span></span>)</span>

                <label class="view-source-button" for="UiLoader.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.__init__-48"><a href="#UiLoader.__init__-48"><span class="linenos">48</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="UiLoader.__init__-49"><a href="#UiLoader.__init__-49"><span class="linenos">49</span></a>        <span class="c1"># Load JSON data</span>
</span><span id="UiLoader.__init__-50"><a href="#UiLoader.__init__-50"><span class="linenos">50</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_json_file</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>
</span><span id="UiLoader.__init__-51"><a href="#UiLoader.__init__-51"><span class="linenos">51</span></a>        <span class="k">if</span> <span class="s2">&quot;ui&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;ui&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="UiLoader.__init__-52"><a href="#UiLoader.__init__-52"><span class="linenos">52</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JSON must have &#39;ui&#39; property of type dict: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.__init__-53"><a href="#UiLoader.__init__-53"><span class="linenos">53</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;ui&quot;</span><span class="p">]</span>
</span><span id="UiLoader.__init__-54"><a href="#UiLoader.__init__-54"><span class="linenos">54</span></a>        <span class="c1"># Create a dictionary to store references to created widgets</span>
</span><span id="UiLoader.__init__-55"><a href="#UiLoader.__init__-55"><span class="linenos">55</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="UiLoader.__init__-56"><a href="#UiLoader.__init__-56"><span class="linenos">56</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="p">{}</span>
</span></pre></div>


    

                            </div>
                            <div id="UiLoader.special_types" class="classattr">
                                <div class="attr variable">
            <span class="name">special_types</span>        =
<span class="default_value">[&#39;container&#39;, &#39;random&#39;]</span>

        
    </div>
    <a class="headerlink" href="#UiLoader.special_types"></a>
    
    

                            </div>
                            <div id="UiLoader.valid_types" class="classattr">
                                <div class="attr variable">
            <span class="name">valid_types</span>        =
<input id="UiLoader.valid_types-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="UiLoader.valid_types-view-value"></label><span class="default_value">[&#39;container&#39;, &#39;random&#39;, &#39;arc&#39;, &#39;bar&#39;, &#39;button&#39;, &#39;buttonmatrix&#39;, &#39;calendar&#39;, &#39;canvas&#39;, &#39;chart&#39;, &#39;checkbox&#39;, &#39;dropdown&#39;, &#39;image&#39;, &#39;imagebutton&#39;, &#39;keyboard&#39;, &#39;label&#39;, &#39;led&#39;, &#39;line&#39;, &#39;list&#39;, &#39;menu&#39;, &#39;messagebox&#39;, &#39;roller&#39;, &#39;scale&#39;, &#39;slider&#39;, &#39;spangroup&#39;, &#39;spinbox&#39;, &#39;spinner&#39;, &#39;switch&#39;, &#39;table&#39;, &#39;tabview&#39;, &#39;textarea&#39;, &#39;tileview&#39;, &#39;window&#39;]</span>

        
    </div>
    <a class="headerlink" href="#UiLoader.valid_types"></a>
    
    

                            </div>
                            <div id="UiLoader.valid_layouts" class="classattr">
                                <div class="attr variable">
            <span class="name">valid_layouts</span>        =
<span class="default_value">[&#39;none&#39;, &#39;grid&#39;, &#39;flex&#39;]</span>

        
    </div>
    <a class="headerlink" href="#UiLoader.valid_layouts"></a>
    
    

                            </div>
                            <div id="UiLoader.valid_flow" class="classattr">
                                <div class="attr variable">
            <span class="name">valid_flow</span>        =
<span class="default_value">[&#39;row&#39;, &#39;column&#39;, &#39;row_wrap&#39;, &#39;column_wrap&#39;, &#39;row_reverse&#39;, &#39;column_reverse&#39;]</span>

        
    </div>
    <a class="headerlink" href="#UiLoader.valid_flow"></a>
    
    

                            </div>
                            <div id="UiLoader.data" class="classattr">
                                <div class="attr variable">
            <span class="name">data</span>

        
    </div>
    <a class="headerlink" href="#UiLoader.data"></a>
    
    

                            </div>
                            <div id="UiLoader.ui" class="classattr">
                                <div class="attr variable">
            <span class="name">ui</span>

        
    </div>
    <a class="headerlink" href="#UiLoader.ui"></a>
    
    

                            </div>
                            <div id="UiLoader.widgets" class="classattr">
                                <div class="attr variable">
            <span class="name">widgets</span>

        
    </div>
    <a class="headerlink" href="#UiLoader.widgets"></a>
    
    

                            </div>
                            <div id="UiLoader.styles" class="classattr">
                                <div class="attr variable">
            <span class="name">styles</span>

        
    </div>
    <a class="headerlink" href="#UiLoader.styles"></a>
    
    

                            </div>
                            <div id="UiLoader.load_json_file" class="classattr">
                                        <input id="UiLoader.load_json_file-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">load_json_file</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">filepath</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UiLoader.load_json_file-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.load_json_file"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.load_json_file-58"><a href="#UiLoader.load_json_file-58"><span class="linenos">58</span></a>    <span class="nd">@staticmethod</span>
</span><span id="UiLoader.load_json_file-59"><a href="#UiLoader.load_json_file-59"><span class="linenos">59</span></a>    <span class="k">def</span> <span class="nf">load_json_file</span><span class="p">(</span><span class="n">filepath</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="UiLoader.load_json_file-60"><a href="#UiLoader.load_json_file-60"><span class="linenos">60</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.load_json_file-61"><a href="#UiLoader.load_json_file-61"><span class="linenos">61</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader.load_json_file-62"><a href="#UiLoader.load_json_file-62"><span class="linenos">62</span></a><span class="sd">        - `filepath` The path to the JSON file to load.</span>
</span><span id="UiLoader.load_json_file-63"><a href="#UiLoader.load_json_file-63"><span class="linenos">63</span></a>
</span><span id="UiLoader.load_json_file-64"><a href="#UiLoader.load_json_file-64"><span class="linenos">64</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader.load_json_file-65"><a href="#UiLoader.load_json_file-65"><span class="linenos">65</span></a><span class="sd">        - `dict` The JSON data loaded from the file.</span>
</span><span id="UiLoader.load_json_file-66"><a href="#UiLoader.load_json_file-66"><span class="linenos">66</span></a>
</span><span id="UiLoader.load_json_file-67"><a href="#UiLoader.load_json_file-67"><span class="linenos">67</span></a><span class="sd">        Load and return the JSON data from a file.</span>
</span><span id="UiLoader.load_json_file-68"><a href="#UiLoader.load_json_file-68"><span class="linenos">68</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.load_json_file-69"><a href="#UiLoader.load_json_file-69"><span class="linenos">69</span></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
</span><span id="UiLoader.load_json_file-70"><a href="#UiLoader.load_json_file-70"><span class="linenos">70</span></a>            <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p><strong>Params:</strong></p>

<ul>
<li><code>filepath</code> The path to the JSON file to load.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>dict</code> The JSON data loaded from the file.</li>
</ul>

<p>Load and return the JSON data from a file.</p>
</div>


                            </div>
                            <div id="UiLoader.initialize_screen" class="classattr">
                                        <input id="UiLoader.initialize_screen-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">initialize_screen</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UiLoader.initialize_screen-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.initialize_screen"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.initialize_screen-72"><a href="#UiLoader.initialize_screen-72"><span class="linenos">72</span></a>    <span class="k">def</span> <span class="nf">initialize_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UiLoader.initialize_screen-73"><a href="#UiLoader.initialize_screen-73"><span class="linenos">73</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.initialize_screen-74"><a href="#UiLoader.initialize_screen-74"><span class="linenos">74</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader.initialize_screen-75"><a href="#UiLoader.initialize_screen-75"><span class="linenos">75</span></a><span class="sd">        - `driver` The display driver object.</span>
</span><span id="UiLoader.initialize_screen-76"><a href="#UiLoader.initialize_screen-76"><span class="linenos">76</span></a>
</span><span id="UiLoader.initialize_screen-77"><a href="#UiLoader.initialize_screen-77"><span class="linenos">77</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader.initialize_screen-78"><a href="#UiLoader.initialize_screen-78"><span class="linenos">78</span></a><span class="sd">        - `ValueError` If the &#39;window&#39; property is missing or invalid.</span>
</span><span id="UiLoader.initialize_screen-79"><a href="#UiLoader.initialize_screen-79"><span class="linenos">79</span></a><span class="sd">        - `ValueError` If the &#39;width&#39; property is missing or invalid.</span>
</span><span id="UiLoader.initialize_screen-80"><a href="#UiLoader.initialize_screen-80"><span class="linenos">80</span></a><span class="sd">        - `ValueError` If the &#39;height&#39; property is missing or invalid.</span>
</span><span id="UiLoader.initialize_screen-81"><a href="#UiLoader.initialize_screen-81"><span class="linenos">81</span></a>
</span><span id="UiLoader.initialize_screen-82"><a href="#UiLoader.initialize_screen-82"><span class="linenos">82</span></a><span class="sd">        Initialize a display driver in the specified width and height of the JSON data to create a window.</span>
</span><span id="UiLoader.initialize_screen-83"><a href="#UiLoader.initialize_screen-83"><span class="linenos">83</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.initialize_screen-84"><a href="#UiLoader.initialize_screen-84"><span class="linenos">84</span></a>        <span class="k">if</span> <span class="s2">&quot;window&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="UiLoader.initialize_screen-85"><a href="#UiLoader.initialize_screen-85"><span class="linenos">85</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;UI must have &#39;window&#39; property of type dict: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.initialize_screen-86"><a href="#UiLoader.initialize_screen-86"><span class="linenos">86</span></a>        <span class="k">if</span> <span class="s2">&quot;width&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;width&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader.initialize_screen-87"><a href="#UiLoader.initialize_screen-87"><span class="linenos">87</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Window must have &#39;width&#39; property of type int: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s1">&#39;window&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.initialize_screen-88"><a href="#UiLoader.initialize_screen-88"><span class="linenos">88</span></a>        <span class="k">if</span> <span class="s2">&quot;height&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;height&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader.initialize_screen-89"><a href="#UiLoader.initialize_screen-89"><span class="linenos">89</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Window must have &#39;height&#39; property of type int: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s1">&#39;window&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.initialize_screen-90"><a href="#UiLoader.initialize_screen-90"><span class="linenos">90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;width&quot;</span><span class="p">]</span>
</span><span id="UiLoader.initialize_screen-91"><a href="#UiLoader.initialize_screen-91"><span class="linenos">91</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;height&quot;</span><span class="p">]</span>
</span><span id="UiLoader.initialize_screen-92"><a href="#UiLoader.initialize_screen-92"><span class="linenos">92</span></a>        <span class="k">if</span> <span class="s2">&quot;title&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">]:</span>
</span><span id="UiLoader.initialize_screen-93"><a href="#UiLoader.initialize_screen-93"><span class="linenos">93</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;window&quot;</span><span class="p">][</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="c1"># FIXME window title is not used</span>
</span><span id="UiLoader.initialize_screen-94"><a href="#UiLoader.initialize_screen-94"><span class="linenos">94</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">screen</span> <span class="o">=</span> <span class="n">driver</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p><strong>Returns:</strong></p>

<ul>
<li><code>driver</code> The display driver object.</li>
</ul>

<p><strong>Raises:</strong></p>

<ul>
<li><code>ValueError</code> If the 'window' property is missing or invalid.</li>
<li><code>ValueError</code> If the 'width' property is missing or invalid.</li>
<li><code>ValueError</code> If the 'height' property is missing or invalid.</li>
</ul>

<p>Initialize a display driver in the specified width and height of the JSON data to create a window.</p>
</div>


                            </div>
                            <div id="UiLoader.parse_ui" class="classattr">
                                        <input id="UiLoader.parse_ui-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_ui</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UiLoader.parse_ui-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.parse_ui"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.parse_ui-96"><a href="#UiLoader.parse_ui-96"><span class="linenos"> 96</span></a>    <span class="k">def</span> <span class="nf">parse_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UiLoader.parse_ui-97"><a href="#UiLoader.parse_ui-97"><span class="linenos"> 97</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.parse_ui-98"><a href="#UiLoader.parse_ui-98"><span class="linenos"> 98</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader.parse_ui-99"><a href="#UiLoader.parse_ui-99"><span class="linenos"> 99</span></a><span class="sd">        - `ValueError` If the `root` JSON property is missing or invalid.</span>
</span><span id="UiLoader.parse_ui-100"><a href="#UiLoader.parse_ui-100"><span class="linenos">100</span></a>
</span><span id="UiLoader.parse_ui-101"><a href="#UiLoader.parse_ui-101"><span class="linenos">101</span></a><span class="sd">        Parse the UI elements under the `root` object of the JSON data.</span>
</span><span id="UiLoader.parse_ui-102"><a href="#UiLoader.parse_ui-102"><span class="linenos">102</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.parse_ui-103"><a href="#UiLoader.parse_ui-103"><span class="linenos">103</span></a>        <span class="k">if</span> <span class="s2">&quot;root&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;root&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="UiLoader.parse_ui-104"><a href="#UiLoader.parse_ui-104"><span class="linenos">104</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;UI must have &#39;root&#39; property of type dict: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.parse_ui-105"><a href="#UiLoader.parse_ui-105"><span class="linenos">105</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_element</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;root&quot;</span><span class="p">])</span>
</span><span id="UiLoader.parse_ui-106"><a href="#UiLoader.parse_ui-106"><span class="linenos">106</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">screen_active</span><span class="p">())</span>
</span><span id="UiLoader.parse_ui-107"><a href="#UiLoader.parse_ui-107"><span class="linenos">107</span></a>        <span class="c1"># NOTE The below can be accomplished by setting the width and height of the root widget via style properties</span>
</span><span id="UiLoader.parse_ui-108"><a href="#UiLoader.parse_ui-108"><span class="linenos">108</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="o">.</span><span class="n">set_width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
</span><span id="UiLoader.parse_ui-109"><a href="#UiLoader.parse_ui-109"><span class="linenos">109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="o">.</span><span class="n">set_height</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p><strong>Raises:</strong></p>

<ul>
<li><code>ValueError</code> If the <code>root</code> JSON property is missing or invalid.</li>
</ul>

<p>Parse the UI elements under the <code>root</code> object of the JSON data.</p>
</div>


                            </div>
                            <div id="UiLoader.parse_element" class="classattr">
                                        <input id="UiLoader.parse_element-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_element</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">element</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UiLoader.parse_element-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.parse_element"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.parse_element-111"><a href="#UiLoader.parse_element-111"><span class="linenos">111</span></a>    <span class="k">def</span> <span class="nf">parse_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
</span><span id="UiLoader.parse_element-112"><a href="#UiLoader.parse_element-112"><span class="linenos">112</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.parse_element-113"><a href="#UiLoader.parse_element-113"><span class="linenos">113</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader.parse_element-114"><a href="#UiLoader.parse_element-114"><span class="linenos">114</span></a><span class="sd">        - `element` The JSON element to parse.</span>
</span><span id="UiLoader.parse_element-115"><a href="#UiLoader.parse_element-115"><span class="linenos">115</span></a>
</span><span id="UiLoader.parse_element-116"><a href="#UiLoader.parse_element-116"><span class="linenos">116</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader.parse_element-117"><a href="#UiLoader.parse_element-117"><span class="linenos">117</span></a><span class="sd">        - `lv.obj | lv.button | lv.label | lv.image | lv.line | lv.bar | lv.slider | lv.switch | lv.checkbox | lv.roller | lv.dropdown | lv.textarea | lv.chart` The created widget object based on the element type.</span>
</span><span id="UiLoader.parse_element-118"><a href="#UiLoader.parse_element-118"><span class="linenos">118</span></a>
</span><span id="UiLoader.parse_element-119"><a href="#UiLoader.parse_element-119"><span class="linenos">119</span></a><span class="sd">        Parse a widget object JSON element and create the corresponding widget.</span>
</span><span id="UiLoader.parse_element-120"><a href="#UiLoader.parse_element-120"><span class="linenos">120</span></a><span class="sd">        If the element has children, **they will be parsed recursively** and attached to the parent widget.</span>
</span><span id="UiLoader.parse_element-121"><a href="#UiLoader.parse_element-121"><span class="linenos">121</span></a><span class="sd">        If the element has one or more styles, they will be applied to the created widget.</span>
</span><span id="UiLoader.parse_element-122"><a href="#UiLoader.parse_element-122"><span class="linenos">122</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.parse_element-123"><a href="#UiLoader.parse_element-123"><span class="linenos">123</span></a>        <span class="c1"># Create a widget based on the element type</span>
</span><span id="UiLoader.parse_element-124"><a href="#UiLoader.parse_element-124"><span class="linenos">124</span></a>        <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_widget</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</span><span id="UiLoader.parse_element-125"><a href="#UiLoader.parse_element-125"><span class="linenos">125</span></a>        <span class="c1"># Process child elements if they exist</span>
</span><span id="UiLoader.parse_element-126"><a href="#UiLoader.parse_element-126"><span class="linenos">126</span></a>        <span class="k">if</span> <span class="s2">&quot;children&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="UiLoader.parse_element-127"><a href="#UiLoader.parse_element-127"><span class="linenos">127</span></a>            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]:</span>
</span><span id="UiLoader.parse_element-128"><a href="#UiLoader.parse_element-128"><span class="linenos">128</span></a>                <span class="n">child_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_element</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
</span><span id="UiLoader.parse_element-129"><a href="#UiLoader.parse_element-129"><span class="linenos">129</span></a>                <span class="k">if</span> <span class="n">child</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;random&quot;</span><span class="p">:</span> <span class="c1"># NOTE Random widget is a special case and places itself</span>
</span><span id="UiLoader.parse_element-130"><a href="#UiLoader.parse_element-130"><span class="linenos">130</span></a>                    <span class="k">continue</span>
</span><span id="UiLoader.parse_element-131"><a href="#UiLoader.parse_element-131"><span class="linenos">131</span></a>                <span class="n">child_widget</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
</span><span id="UiLoader.parse_element-132"><a href="#UiLoader.parse_element-132"><span class="linenos">132</span></a>                <span class="k">if</span> <span class="s2">&quot;grid&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">[</span><span class="s1">&#39;options&#39;</span><span class="p">][</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]:</span>
</span><span id="UiLoader.parse_element-133"><a href="#UiLoader.parse_element-133"><span class="linenos">133</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">place_widget_in_grid</span><span class="p">(</span><span class="n">child_widget</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>
</span><span id="UiLoader.parse_element-134"><a href="#UiLoader.parse_element-134"><span class="linenos">134</span></a>                    
</span><span id="UiLoader.parse_element-135"><a href="#UiLoader.parse_element-135"><span class="linenos">135</span></a>        <span class="k">if</span> <span class="s2">&quot;style&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="UiLoader.parse_element-136"><a href="#UiLoader.parse_element-136"><span class="linenos">136</span></a>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="UiLoader.parse_element-137"><a href="#UiLoader.parse_element-137"><span class="linenos">137</span></a>                <span class="k">for</span> <span class="n">style</span> <span class="ow">in</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">]:</span>
</span><span id="UiLoader.parse_element-138"><a href="#UiLoader.parse_element-138"><span class="linenos">138</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">apply_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span>
</span><span id="UiLoader.parse_element-139"><a href="#UiLoader.parse_element-139"><span class="linenos">139</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader.parse_element-140"><a href="#UiLoader.parse_element-140"><span class="linenos">140</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">apply_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">])</span>
</span><span id="UiLoader.parse_element-141"><a href="#UiLoader.parse_element-141"><span class="linenos">141</span></a>        <span class="k">return</span> <span class="n">widget</span>
</span></pre></div>


            <div class="docstring"><p><strong>Params:</strong></p>

<ul>
<li><code>element</code> The JSON element to parse.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>lv.obj | lv.button | lv.label | lv.image | lv.line | lv.bar | lv.slider | lv.switch | lv.checkbox | lv.roller | lv.dropdown | lv.textarea | lv.chart</code> The created widget object based on the element type.</li>
</ul>

<p>Parse a widget object JSON element and create the corresponding widget.
If the element has children, <strong>they will be parsed recursively</strong> and attached to the parent widget.
If the element has one or more styles, they will be applied to the created widget.</p>
</div>


                            </div>
                            <div id="UiLoader.create_widget" class="classattr">
                                        <input id="UiLoader.create_widget-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_widget</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">element</span></span><span class="return-annotation">) -> <span class="o">&lt;</span><span class="n">MagicMock</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;mock.obj.__or__().__or__().__or__().__or__().__or__().__or__().__or__().__or__().__or__().__or__().__or__().__or__()&#39;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;140276924532688&#39;</span><span class="o">&gt;</span>:</span></span>

                <label class="view-source-button" for="UiLoader.create_widget-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.create_widget"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.create_widget-143"><a href="#UiLoader.create_widget-143"><span class="linenos">143</span></a>    <span class="k">def</span> <span class="nf">create_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">button</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">label</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">image</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">line</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">bar</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">slider</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">switch</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">checkbox</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">roller</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">dropdown</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">textarea</span> <span class="o">|</span> <span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="p">:</span>
</span><span id="UiLoader.create_widget-144"><a href="#UiLoader.create_widget-144"><span class="linenos">144</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.create_widget-145"><a href="#UiLoader.create_widget-145"><span class="linenos">145</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader.create_widget-146"><a href="#UiLoader.create_widget-146"><span class="linenos">146</span></a><span class="sd">        - `element` The JSON element to create the widget from.</span>
</span><span id="UiLoader.create_widget-147"><a href="#UiLoader.create_widget-147"><span class="linenos">147</span></a>
</span><span id="UiLoader.create_widget-148"><a href="#UiLoader.create_widget-148"><span class="linenos">148</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader.create_widget-149"><a href="#UiLoader.create_widget-149"><span class="linenos">149</span></a><span class="sd">        - `lv.obj | lv.button | lv.label | lv.image | lv.line | lv.bar | lv.slider | lv.switch | lv.checkbox | lv.roller | lv.dropdown | lv.textarea | lv.chart` The created widget object based on the element type.</span>
</span><span id="UiLoader.create_widget-150"><a href="#UiLoader.create_widget-150"><span class="linenos">150</span></a>
</span><span id="UiLoader.create_widget-151"><a href="#UiLoader.create_widget-151"><span class="linenos">151</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader.create_widget-152"><a href="#UiLoader.create_widget-152"><span class="linenos">152</span></a><span class="sd">        - `ValueError` If the widget type is not recognized.</span>
</span><span id="UiLoader.create_widget-153"><a href="#UiLoader.create_widget-153"><span class="linenos">153</span></a><span class="sd">        - `ValueError` If the specified `id` already exists in previously created widgets.</span>
</span><span id="UiLoader.create_widget-154"><a href="#UiLoader.create_widget-154"><span class="linenos">154</span></a>
</span><span id="UiLoader.create_widget-155"><a href="#UiLoader.create_widget-155"><span class="linenos">155</span></a><span class="sd">        Create an LVGL widget object based on the type specified in the JSON element.</span>
</span><span id="UiLoader.create_widget-156"><a href="#UiLoader.create_widget-156"><span class="linenos">156</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.create_widget-157"><a href="#UiLoader.create_widget-157"><span class="linenos">157</span></a>        <span class="n">widget</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="UiLoader.create_widget-158"><a href="#UiLoader.create_widget-158"><span class="linenos">158</span></a>        <span class="n">widget_type</span> <span class="o">=</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
</span><span id="UiLoader.create_widget-159"><a href="#UiLoader.create_widget-159"><span class="linenos">159</span></a>        <span class="k">if</span> <span class="n">widget_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_types</span><span class="p">:</span>
</span><span id="UiLoader.create_widget-160"><a href="#UiLoader.create_widget-160"><span class="linenos">160</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid widget type: </span><span class="si">{</span><span class="n">widget_type</span><span class="si">}</span><span class="s2">. Valid types are: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">valid_types</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_widget-161"><a href="#UiLoader.create_widget-161"><span class="linenos">161</span></a>        <span class="k">if</span> <span class="n">widget_type</span> <span class="o">==</span> <span class="s1">&#39;container&#39;</span><span class="p">:</span>
</span><span id="UiLoader.create_widget-162"><a href="#UiLoader.create_widget-162"><span class="linenos">162</span></a>            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_container</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</span><span id="UiLoader.create_widget-163"><a href="#UiLoader.create_widget-163"><span class="linenos">163</span></a>        <span class="k">elif</span> <span class="n">widget_type</span> <span class="o">==</span> <span class="s2">&quot;random&quot;</span><span class="p">:</span>
</span><span id="UiLoader.create_widget-164"><a href="#UiLoader.create_widget-164"><span class="linenos">164</span></a>            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_random_widget</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</span><span id="UiLoader.create_widget-165"><a href="#UiLoader.create_widget-165"><span class="linenos">165</span></a>        <span class="k">elif</span> <span class="n">widget_type</span> <span class="ow">in</span> <span class="n">widget_mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="UiLoader.create_widget-166"><a href="#UiLoader.create_widget-166"><span class="linenos">166</span></a>            <span class="n">widget</span> <span class="o">=</span> <span class="n">widget_mapping</span><span class="p">[</span><span class="n">widget_type</span><span class="p">](</span><span class="n">element</span><span class="p">)</span>
</span><span id="UiLoader.create_widget-167"><a href="#UiLoader.create_widget-167"><span class="linenos">167</span></a>        <span class="k">if</span> <span class="n">widget</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="UiLoader.create_widget-168"><a href="#UiLoader.create_widget-168"><span class="linenos">168</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to create widget: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_widget-169"><a href="#UiLoader.create_widget-169"><span class="linenos">169</span></a>        <span class="k">if</span> <span class="s1">&#39;width&#39;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="UiLoader.create_widget-170"><a href="#UiLoader.create_widget-170"><span class="linenos">170</span></a>            <span class="n">widget</span><span class="o">.</span><span class="n">set_width</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">])</span>
</span><span id="UiLoader.create_widget-171"><a href="#UiLoader.create_widget-171"><span class="linenos">171</span></a>        <span class="k">if</span> <span class="s1">&#39;height&#39;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="UiLoader.create_widget-172"><a href="#UiLoader.create_widget-172"><span class="linenos">172</span></a>            <span class="n">widget</span><span class="o">.</span><span class="n">set_height</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">])</span>
</span><span id="UiLoader.create_widget-173"><a href="#UiLoader.create_widget-173"><span class="linenos">173</span></a>        <span class="c1"># Create a unique ID for the widget if it wasn&#39;t provided</span>
</span><span id="UiLoader.create_widget-174"><a href="#UiLoader.create_widget-174"><span class="linenos">174</span></a>        <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="UiLoader.create_widget-175"><a href="#UiLoader.create_widget-175"><span class="linenos">175</span></a>            <span class="c1"># Count types of the widget</span>
</span><span id="UiLoader.create_widget-176"><a href="#UiLoader.create_widget-176"><span class="linenos">176</span></a>            <span class="n">count</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="mi">1</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="n">widget</span><span class="p">)])</span>
</span><span id="UiLoader.create_widget-177"><a href="#UiLoader.create_widget-177"><span class="linenos">177</span></a>            <span class="nb">id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">widget_type</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="UiLoader.create_widget-178"><a href="#UiLoader.create_widget-178"><span class="linenos">178</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span>
</span><span id="UiLoader.create_widget-179"><a href="#UiLoader.create_widget-179"><span class="linenos">179</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created widget &#39;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_widget-180"><a href="#UiLoader.create_widget-180"><span class="linenos">180</span></a>        <span class="k">elif</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">:</span>
</span><span id="UiLoader.create_widget-181"><a href="#UiLoader.create_widget-181"><span class="linenos">181</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Widget with ID &#39;</span><span class="si">{</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; already exists. IDs must be unique.&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_widget-182"><a href="#UiLoader.create_widget-182"><span class="linenos">182</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader.create_widget-183"><a href="#UiLoader.create_widget-183"><span class="linenos">183</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">[</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">widget</span>
</span><span id="UiLoader.create_widget-184"><a href="#UiLoader.create_widget-184"><span class="linenos">184</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created widget &#39;</span><span class="si">{</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_widget-185"><a href="#UiLoader.create_widget-185"><span class="linenos">185</span></a>        <span class="k">return</span> <span class="n">widget</span>
</span></pre></div>


            <div class="docstring"><p><strong>Params:</strong></p>

<ul>
<li><code>element</code> The JSON element to create the widget from.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>lv.obj | lv.button | lv.label | lv.image | lv.line | lv.bar | lv.slider | lv.switch | lv.checkbox | lv.roller | lv.dropdown | lv.textarea | lv.chart</code> The created widget object based on the element type.</li>
</ul>

<p><strong>Raises:</strong></p>

<ul>
<li><code>ValueError</code> If the widget type is not recognized.</li>
<li><code>ValueError</code> If the specified <code>id</code> already exists in previously created widgets.</li>
</ul>

<p>Create an LVGL widget object based on the type specified in the JSON element.</p>
</div>


                            </div>
                            <div id="UiLoader.create_container" class="classattr">
                                        <input id="UiLoader.create_container-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_container</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">element</span></span><span class="return-annotation">) -> <span class="o">&lt;</span><span class="n">MagicMock</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;mock.obj&#39;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;140276925943696&#39;</span><span class="o">&gt;</span>:</span></span>

                <label class="view-source-button" for="UiLoader.create_container-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.create_container"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.create_container-189"><a href="#UiLoader.create_container-189"><span class="linenos">189</span></a>    <span class="k">def</span> <span class="nf">create_container</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">:</span>
</span><span id="UiLoader.create_container-190"><a href="#UiLoader.create_container-190"><span class="linenos">190</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.create_container-191"><a href="#UiLoader.create_container-191"><span class="linenos">191</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader.create_container-192"><a href="#UiLoader.create_container-192"><span class="linenos">192</span></a><span class="sd">        - `element` The JSON element to create the container widget from.</span>
</span><span id="UiLoader.create_container-193"><a href="#UiLoader.create_container-193"><span class="linenos">193</span></a>
</span><span id="UiLoader.create_container-194"><a href="#UiLoader.create_container-194"><span class="linenos">194</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader.create_container-195"><a href="#UiLoader.create_container-195"><span class="linenos">195</span></a><span class="sd">        - `lv.obj` The created container widget object.</span>
</span><span id="UiLoader.create_container-196"><a href="#UiLoader.create_container-196"><span class="linenos">196</span></a>
</span><span id="UiLoader.create_container-197"><a href="#UiLoader.create_container-197"><span class="linenos">197</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader.create_container-198"><a href="#UiLoader.create_container-198"><span class="linenos">198</span></a><span class="sd">        - `ValueError` If the `id` or `options` properties are missing or invalid.</span>
</span><span id="UiLoader.create_container-199"><a href="#UiLoader.create_container-199"><span class="linenos">199</span></a><span class="sd">        - `ValueError` If the `layout_type` property is missing or invalid.</span>
</span><span id="UiLoader.create_container-200"><a href="#UiLoader.create_container-200"><span class="linenos">200</span></a><span class="sd">        - `ValueError` If the layout type is `grid` or `flex` and the `layout_options` property is missing or invalid.</span>
</span><span id="UiLoader.create_container-201"><a href="#UiLoader.create_container-201"><span class="linenos">201</span></a>
</span><span id="UiLoader.create_container-202"><a href="#UiLoader.create_container-202"><span class="linenos">202</span></a><span class="sd">        Create a container widget based on the JSON element.</span>
</span><span id="UiLoader.create_container-203"><a href="#UiLoader.create_container-203"><span class="linenos">203</span></a><span class="sd">        If the layout type is &#39;grid&#39; or &#39;flex&#39;, the &#39;layout_options&#39; property must be present.</span>
</span><span id="UiLoader.create_container-204"><a href="#UiLoader.create_container-204"><span class="linenos">204</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.create_container-205"><a href="#UiLoader.create_container-205"><span class="linenos">205</span></a>        <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="UiLoader.create_container-206"><a href="#UiLoader.create_container-206"><span class="linenos">206</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container widget must have &#39;id&#39; of type str: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_container-207"><a href="#UiLoader.create_container-207"><span class="linenos">207</span></a>        <span class="k">if</span> <span class="s2">&quot;options&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;options&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="UiLoader.create_container-208"><a href="#UiLoader.create_container-208"><span class="linenos">208</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container widget must have &#39;options&#39; of type dict: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_container-209"><a href="#UiLoader.create_container-209"><span class="linenos">209</span></a>        <span class="n">options</span> <span class="o">=</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;options&quot;</span><span class="p">]</span>
</span><span id="UiLoader.create_container-210"><a href="#UiLoader.create_container-210"><span class="linenos">210</span></a>        <span class="k">if</span> <span class="s2">&quot;layout_type&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">or</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_layouts</span><span class="p">:</span>
</span><span id="UiLoader.create_container-211"><a href="#UiLoader.create_container-211"><span class="linenos">211</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container widget must have &#39;layout_type&#39; property: </span><span class="si">{</span><span class="n">options</span><span class="si">}</span><span class="s2">. Valid options are: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">valid_layouts</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_container-212"><a href="#UiLoader.create_container-212"><span class="linenos">212</span></a>        <span class="k">if</span> <span class="s1">&#39;grid&#39;</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="s1">&#39;flex&#39;</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]:</span>
</span><span id="UiLoader.create_container-213"><a href="#UiLoader.create_container-213"><span class="linenos">213</span></a>            <span class="k">if</span> <span class="s2">&quot;layout_options&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_options&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="UiLoader.create_container-214"><a href="#UiLoader.create_container-214"><span class="linenos">214</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container widget must have &#39;layout_options&#39; property of type dict: </span><span class="si">{</span><span class="n">options</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_container-215"><a href="#UiLoader.create_container-215"><span class="linenos">215</span></a>        <span class="n">container</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">screen_active</span><span class="p">())</span>
</span><span id="UiLoader.create_container-216"><a href="#UiLoader.create_container-216"><span class="linenos">216</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;layout_type&quot;</span><span class="p">]</span>
</span><span id="UiLoader.create_container-217"><a href="#UiLoader.create_container-217"><span class="linenos">217</span></a>        <span class="k">if</span> <span class="n">layout</span> <span class="o">==</span> <span class="s2">&quot;none&quot;</span><span class="p">:</span>
</span><span id="UiLoader.create_container-218"><a href="#UiLoader.create_container-218"><span class="linenos">218</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_layout</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">LAYOUT</span><span class="o">.</span><span class="n">NONE</span><span class="p">)</span>
</span><span id="UiLoader.create_container-219"><a href="#UiLoader.create_container-219"><span class="linenos">219</span></a>            <span class="c1"># element[&quot;layout_type&quot;] = &quot;none&quot;</span>
</span><span id="UiLoader.create_container-220"><a href="#UiLoader.create_container-220"><span class="linenos">220</span></a>        <span class="k">elif</span> <span class="n">layout</span> <span class="o">==</span> <span class="s2">&quot;grid&quot;</span><span class="p">:</span>
</span><span id="UiLoader.create_container-221"><a href="#UiLoader.create_container-221"><span class="linenos">221</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">configure_grid_layout</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">options</span><span class="p">[</span><span class="s1">&#39;layout_options&#39;</span><span class="p">])</span>
</span><span id="UiLoader.create_container-222"><a href="#UiLoader.create_container-222"><span class="linenos">222</span></a>            <span class="c1"># element[&quot;layout_type&quot;] = &quot;grid&quot;</span>
</span><span id="UiLoader.create_container-223"><a href="#UiLoader.create_container-223"><span class="linenos">223</span></a>        <span class="k">elif</span> <span class="n">layout</span> <span class="o">==</span> <span class="s2">&quot;flex&quot;</span><span class="p">:</span>
</span><span id="UiLoader.create_container-224"><a href="#UiLoader.create_container-224"><span class="linenos">224</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">configure_flex_layout</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">options</span><span class="p">[</span><span class="s1">&#39;layout_options&#39;</span><span class="p">])</span>
</span><span id="UiLoader.create_container-225"><a href="#UiLoader.create_container-225"><span class="linenos">225</span></a>            <span class="c1"># element[&quot;layout_type&quot;] = &quot;flex&quot;</span>
</span><span id="UiLoader.create_container-226"><a href="#UiLoader.create_container-226"><span class="linenos">226</span></a>        <span class="k">return</span> <span class="n">container</span>
</span></pre></div>


            <div class="docstring"><p><strong>Params:</strong></p>

<ul>
<li><code>element</code> The JSON element to create the container widget from.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>lv.obj</code> The created container widget object.</li>
</ul>

<p><strong>Raises:</strong></p>

<ul>
<li><code>ValueError</code> If the <code>id</code> or <code>options</code> properties are missing or invalid.</li>
<li><code>ValueError</code> If the <code>layout_type</code> property is missing or invalid.</li>
<li><code>ValueError</code> If the layout type is <code>grid</code> or <code>flex</code> and the <code>layout_options</code> property is missing or invalid.</li>
</ul>

<p>Create a container widget based on the JSON element.
If the layout type is 'grid' or 'flex', the 'layout_options' property must be present.</p>
</div>


                            </div>
                            <div id="UiLoader.configure_flex_layout" class="classattr">
                                        <input id="UiLoader.configure_flex_layout-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">configure_flex_layout</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">container</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">MagicMock</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;mock.obj&#39;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;140276925943696&#39;</span><span class="o">&gt;</span>,</span><span class="param">	<span class="n">options</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UiLoader.configure_flex_layout-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.configure_flex_layout"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.configure_flex_layout-228"><a href="#UiLoader.configure_flex_layout-228"><span class="linenos">228</span></a>    <span class="k">def</span> <span class="nf">configure_flex_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">options</span><span class="p">):</span>
</span><span id="UiLoader.configure_flex_layout-229"><a href="#UiLoader.configure_flex_layout-229"><span class="linenos">229</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.configure_flex_layout-230"><a href="#UiLoader.configure_flex_layout-230"><span class="linenos">230</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader.configure_flex_layout-231"><a href="#UiLoader.configure_flex_layout-231"><span class="linenos">231</span></a><span class="sd">        - `container` The container widget to configure the flex layout for.</span>
</span><span id="UiLoader.configure_flex_layout-232"><a href="#UiLoader.configure_flex_layout-232"><span class="linenos">232</span></a><span class="sd">        - `options` The options dictionary for the flex layout.</span>
</span><span id="UiLoader.configure_flex_layout-233"><a href="#UiLoader.configure_flex_layout-233"><span class="linenos">233</span></a>
</span><span id="UiLoader.configure_flex_layout-234"><a href="#UiLoader.configure_flex_layout-234"><span class="linenos">234</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader.configure_flex_layout-235"><a href="#UiLoader.configure_flex_layout-235"><span class="linenos">235</span></a><span class="sd">        - `ValueError` If the `flow` property is missing or invalid.</span>
</span><span id="UiLoader.configure_flex_layout-236"><a href="#UiLoader.configure_flex_layout-236"><span class="linenos">236</span></a>
</span><span id="UiLoader.configure_flex_layout-237"><a href="#UiLoader.configure_flex_layout-237"><span class="linenos">237</span></a><span class="sd">        Configure the flex layout of a container widget based on the options provided in the JSON element.</span>
</span><span id="UiLoader.configure_flex_layout-238"><a href="#UiLoader.configure_flex_layout-238"><span class="linenos">238</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.configure_flex_layout-239"><a href="#UiLoader.configure_flex_layout-239"><span class="linenos">239</span></a>        <span class="k">if</span> <span class="s2">&quot;flow&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">or</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;flow&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_flow</span><span class="p">:</span>
</span><span id="UiLoader.configure_flex_layout-240"><a href="#UiLoader.configure_flex_layout-240"><span class="linenos">240</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flex layout must have &#39;flow&#39; property: </span><span class="si">{</span><span class="n">options</span><span class="si">}</span><span class="s2">. Valid options are: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">valid_flow</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.configure_flex_layout-241"><a href="#UiLoader.configure_flex_layout-241"><span class="linenos">241</span></a>        <span class="n">container</span><span class="o">.</span><span class="n">set_layout</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">LAYOUT</span><span class="o">.</span><span class="n">FLEX</span><span class="p">)</span>
</span><span id="UiLoader.configure_flex_layout-242"><a href="#UiLoader.configure_flex_layout-242"><span class="linenos">242</span></a>        <span class="n">flow</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;flow&quot;</span><span class="p">]</span>
</span><span id="UiLoader.configure_flex_layout-243"><a href="#UiLoader.configure_flex_layout-243"><span class="linenos">243</span></a>        <span class="k">if</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;row&quot;</span><span class="p">:</span>
</span><span id="UiLoader.configure_flex_layout-244"><a href="#UiLoader.configure_flex_layout-244"><span class="linenos">244</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">ROW</span><span class="p">)</span>
</span><span id="UiLoader.configure_flex_layout-245"><a href="#UiLoader.configure_flex_layout-245"><span class="linenos">245</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;column&quot;</span><span class="p">:</span>
</span><span id="UiLoader.configure_flex_layout-246"><a href="#UiLoader.configure_flex_layout-246"><span class="linenos">246</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">COLUMN</span><span class="p">)</span>
</span><span id="UiLoader.configure_flex_layout-247"><a href="#UiLoader.configure_flex_layout-247"><span class="linenos">247</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;row_wrap&quot;</span><span class="p">:</span>
</span><span id="UiLoader.configure_flex_layout-248"><a href="#UiLoader.configure_flex_layout-248"><span class="linenos">248</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">ROW_WRAP</span><span class="p">)</span>
</span><span id="UiLoader.configure_flex_layout-249"><a href="#UiLoader.configure_flex_layout-249"><span class="linenos">249</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;column_wrap&quot;</span><span class="p">:</span>
</span><span id="UiLoader.configure_flex_layout-250"><a href="#UiLoader.configure_flex_layout-250"><span class="linenos">250</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">COLUMN_WRAP</span><span class="p">)</span>
</span><span id="UiLoader.configure_flex_layout-251"><a href="#UiLoader.configure_flex_layout-251"><span class="linenos">251</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;row_reverse&quot;</span><span class="p">:</span>
</span><span id="UiLoader.configure_flex_layout-252"><a href="#UiLoader.configure_flex_layout-252"><span class="linenos">252</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">ROW_REVERSE</span><span class="p">)</span>
</span><span id="UiLoader.configure_flex_layout-253"><a href="#UiLoader.configure_flex_layout-253"><span class="linenos">253</span></a>        <span class="k">elif</span> <span class="n">flow</span> <span class="o">==</span> <span class="s2">&quot;column_reverse&quot;</span><span class="p">:</span>
</span><span id="UiLoader.configure_flex_layout-254"><a href="#UiLoader.configure_flex_layout-254"><span class="linenos">254</span></a>            <span class="n">container</span><span class="o">.</span><span class="n">set_flex_flow</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">FLEX_FLOW</span><span class="o">.</span><span class="n">COLUMN_REVERSE</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p><strong>Params:</strong></p>

<ul>
<li><code>container</code> The container widget to configure the flex layout for.</li>
<li><code>options</code> The options dictionary for the flex layout.</li>
</ul>

<p><strong>Raises:</strong></p>

<ul>
<li><code>ValueError</code> If the <code>flow</code> property is missing or invalid.</li>
</ul>

<p>Configure the flex layout of a container widget based on the options provided in the JSON element.</p>
</div>


                            </div>
                            <div id="UiLoader.configure_grid_layout" class="classattr">
                                        <input id="UiLoader.configure_grid_layout-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">configure_grid_layout</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">container</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">MagicMock</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;mock.obj&#39;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;140276925943696&#39;</span><span class="o">&gt;</span>,</span><span class="param">	<span class="n">options</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UiLoader.configure_grid_layout-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.configure_grid_layout"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.configure_grid_layout-256"><a href="#UiLoader.configure_grid_layout-256"><span class="linenos">256</span></a>    <span class="k">def</span> <span class="nf">configure_grid_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">options</span><span class="p">):</span>
</span><span id="UiLoader.configure_grid_layout-257"><a href="#UiLoader.configure_grid_layout-257"><span class="linenos">257</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.configure_grid_layout-258"><a href="#UiLoader.configure_grid_layout-258"><span class="linenos">258</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader.configure_grid_layout-259"><a href="#UiLoader.configure_grid_layout-259"><span class="linenos">259</span></a><span class="sd">        - `container` The container widget to configure the grid layout for.</span>
</span><span id="UiLoader.configure_grid_layout-260"><a href="#UiLoader.configure_grid_layout-260"><span class="linenos">260</span></a><span class="sd">        - `options` The options dictionary for the grid layout.</span>
</span><span id="UiLoader.configure_grid_layout-261"><a href="#UiLoader.configure_grid_layout-261"><span class="linenos">261</span></a>
</span><span id="UiLoader.configure_grid_layout-262"><a href="#UiLoader.configure_grid_layout-262"><span class="linenos">262</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader.configure_grid_layout-263"><a href="#UiLoader.configure_grid_layout-263"><span class="linenos">263</span></a><span class="sd">        - `ValueError` If the `grid_dsc` property is missing or invalid.</span>
</span><span id="UiLoader.configure_grid_layout-264"><a href="#UiLoader.configure_grid_layout-264"><span class="linenos">264</span></a><span class="sd">        - `ValueError` If the `col_dsc` or `row_dsc` properties are missing or invalid.</span>
</span><span id="UiLoader.configure_grid_layout-265"><a href="#UiLoader.configure_grid_layout-265"><span class="linenos">265</span></a>
</span><span id="UiLoader.configure_grid_layout-266"><a href="#UiLoader.configure_grid_layout-266"><span class="linenos">266</span></a><span class="sd">        Configure the grid layout of a container widget based on the options provided in the JSON element.</span>
</span><span id="UiLoader.configure_grid_layout-267"><a href="#UiLoader.configure_grid_layout-267"><span class="linenos">267</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.configure_grid_layout-268"><a href="#UiLoader.configure_grid_layout-268"><span class="linenos">268</span></a>        <span class="k">if</span> <span class="s2">&quot;grid_dsc&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="UiLoader.configure_grid_layout-269"><a href="#UiLoader.configure_grid_layout-269"><span class="linenos">269</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Grid layout must have &#39;grid_dsc&#39; of type dict: </span><span class="si">{</span><span class="n">options</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.configure_grid_layout-270"><a href="#UiLoader.configure_grid_layout-270"><span class="linenos">270</span></a>        <span class="n">container</span><span class="o">.</span><span class="n">set_layout</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">LAYOUT</span><span class="o">.</span><span class="n">GRID</span><span class="p">)</span>
</span><span id="UiLoader.configure_grid_layout-271"><a href="#UiLoader.configure_grid_layout-271"><span class="linenos">271</span></a>        <span class="c1"># TODO Need to properly handle grid placements of children with grid layout</span>
</span><span id="UiLoader.configure_grid_layout-272"><a href="#UiLoader.configure_grid_layout-272"><span class="linenos">272</span></a>        <span class="k">if</span> <span class="s2">&quot;col_dsc&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">][</span><span class="s2">&quot;col_dsc&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">list</span> <span class="ow">or</span> <span class="s2">&quot;row_dsc&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">][</span><span class="s2">&quot;row_dsc&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="UiLoader.configure_grid_layout-273"><a href="#UiLoader.configure_grid_layout-273"><span class="linenos">273</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;grid_dsc must have &#39;col_dsc&#39; and &#39;row_dsc&#39; of type list: </span><span class="si">{</span><span class="n">options</span><span class="p">[</span><span class="s1">&#39;grid_dsc&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.configure_grid_layout-274"><a href="#UiLoader.configure_grid_layout-274"><span class="linenos">274</span></a>        <span class="n">col_dsc</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="UiLoader.configure_grid_layout-275"><a href="#UiLoader.configure_grid_layout-275"><span class="linenos">275</span></a>        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">][</span><span class="s2">&quot;col_dsc&quot;</span><span class="p">]:</span>
</span><span id="UiLoader.configure_grid_layout-276"><a href="#UiLoader.configure_grid_layout-276"><span class="linenos">276</span></a>            <span class="n">col_dsc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">GRID_CONTENT</span><span class="p">)</span> <span class="c1"># NOTE Hotfix for ChatGPT (always use content for proper sizes)</span>
</span><span id="UiLoader.configure_grid_layout-277"><a href="#UiLoader.configure_grid_layout-277"><span class="linenos">277</span></a>            <span class="c1"># if type(col) is int:</span>
</span><span id="UiLoader.configure_grid_layout-278"><a href="#UiLoader.configure_grid_layout-278"><span class="linenos">278</span></a>            <span class="c1">#     col_dsc.append(col)</span>
</span><span id="UiLoader.configure_grid_layout-279"><a href="#UiLoader.configure_grid_layout-279"><span class="linenos">279</span></a>            <span class="c1"># elif type(col) is str:</span>
</span><span id="UiLoader.configure_grid_layout-280"><a href="#UiLoader.configure_grid_layout-280"><span class="linenos">280</span></a>            <span class="c1">#     if col.endswith(&quot;fr&quot;):</span>
</span><span id="UiLoader.configure_grid_layout-281"><a href="#UiLoader.configure_grid_layout-281"><span class="linenos">281</span></a>            <span class="c1">#         col_dsc.append(lv.grid_fr(int(col.strip(&quot;fr&quot;))))</span>
</span><span id="UiLoader.configure_grid_layout-282"><a href="#UiLoader.configure_grid_layout-282"><span class="linenos">282</span></a>            <span class="c1">#     elif col == &quot;content&quot;:</span>
</span><span id="UiLoader.configure_grid_layout-283"><a href="#UiLoader.configure_grid_layout-283"><span class="linenos">283</span></a>            <span class="c1">#         col_dsc.append(lv.GRID_CONTENT)</span>
</span><span id="UiLoader.configure_grid_layout-284"><a href="#UiLoader.configure_grid_layout-284"><span class="linenos">284</span></a>            <span class="c1">#     else:</span>
</span><span id="UiLoader.configure_grid_layout-285"><a href="#UiLoader.configure_grid_layout-285"><span class="linenos">285</span></a>            <span class="c1">#         raise ValueError(f&quot;Unsupported column description: {col}. Must be an integer, &#39;#fr&#39; value or &#39;content&#39;.&quot;)</span>
</span><span id="UiLoader.configure_grid_layout-286"><a href="#UiLoader.configure_grid_layout-286"><span class="linenos">286</span></a>        <span class="n">row_dsc</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="UiLoader.configure_grid_layout-287"><a href="#UiLoader.configure_grid_layout-287"><span class="linenos">287</span></a>        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;grid_dsc&quot;</span><span class="p">][</span><span class="s2">&quot;row_dsc&quot;</span><span class="p">]:</span>
</span><span id="UiLoader.configure_grid_layout-288"><a href="#UiLoader.configure_grid_layout-288"><span class="linenos">288</span></a>            <span class="n">row_dsc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">GRID_CONTENT</span><span class="p">)</span> <span class="c1"># NOTE Hotfix for ChatGPT (always use content for proper sizes)</span>
</span><span id="UiLoader.configure_grid_layout-289"><a href="#UiLoader.configure_grid_layout-289"><span class="linenos">289</span></a>            <span class="c1"># if type(row) is int:</span>
</span><span id="UiLoader.configure_grid_layout-290"><a href="#UiLoader.configure_grid_layout-290"><span class="linenos">290</span></a>            <span class="c1">#     row_dsc.append(row)</span>
</span><span id="UiLoader.configure_grid_layout-291"><a href="#UiLoader.configure_grid_layout-291"><span class="linenos">291</span></a>            <span class="c1"># elif type(row) is str:</span>
</span><span id="UiLoader.configure_grid_layout-292"><a href="#UiLoader.configure_grid_layout-292"><span class="linenos">292</span></a>            <span class="c1">#     if row.endswith(&quot;fr&quot;):</span>
</span><span id="UiLoader.configure_grid_layout-293"><a href="#UiLoader.configure_grid_layout-293"><span class="linenos">293</span></a>            <span class="c1">#         row_dsc.append(lv.grid_fr(int(row.strip(&quot;fr&quot;))))</span>
</span><span id="UiLoader.configure_grid_layout-294"><a href="#UiLoader.configure_grid_layout-294"><span class="linenos">294</span></a>            <span class="c1">#     elif row == &quot;content&quot;:</span>
</span><span id="UiLoader.configure_grid_layout-295"><a href="#UiLoader.configure_grid_layout-295"><span class="linenos">295</span></a>            <span class="c1">#         row_dsc.append(lv.GRID_CONTENT)</span>
</span><span id="UiLoader.configure_grid_layout-296"><a href="#UiLoader.configure_grid_layout-296"><span class="linenos">296</span></a>            <span class="c1">#     else:</span>
</span><span id="UiLoader.configure_grid_layout-297"><a href="#UiLoader.configure_grid_layout-297"><span class="linenos">297</span></a>            <span class="c1">#         raise ValueError(f&quot;Unsupported row description: {row}. Must be an integer, &#39;#fr&#39; value or &#39;content&#39;.&quot;)</span>
</span><span id="UiLoader.configure_grid_layout-298"><a href="#UiLoader.configure_grid_layout-298"><span class="linenos">298</span></a>        <span class="n">container</span><span class="o">.</span><span class="n">set_grid_dsc_array</span><span class="p">(</span><span class="n">col_dsc</span><span class="p">,</span> <span class="n">row_dsc</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p><strong>Params:</strong></p>

<ul>
<li><code>container</code> The container widget to configure the grid layout for.</li>
<li><code>options</code> The options dictionary for the grid layout.</li>
</ul>

<p><strong>Raises:</strong></p>

<ul>
<li><code>ValueError</code> If the <code>grid_dsc</code> property is missing or invalid.</li>
<li><code>ValueError</code> If the <code>col_dsc</code> or <code>row_dsc</code> properties are missing or invalid.</li>
</ul>

<p>Configure the grid layout of a container widget based on the options provided in the JSON element.</p>
</div>


                            </div>
                            <div id="UiLoader.create_random_widget" class="classattr">
                                        <input id="UiLoader.create_random_widget-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_random_widget</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">element</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UiLoader.create_random_widget-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.create_random_widget"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.create_random_widget-300"><a href="#UiLoader.create_random_widget-300"><span class="linenos">300</span></a>    <span class="k">def</span> <span class="nf">create_random_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
</span><span id="UiLoader.create_random_widget-301"><a href="#UiLoader.create_random_widget-301"><span class="linenos">301</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.create_random_widget-302"><a href="#UiLoader.create_random_widget-302"><span class="linenos">302</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader.create_random_widget-303"><a href="#UiLoader.create_random_widget-303"><span class="linenos">303</span></a><span class="sd">        - `element` The JSON element to create the random widget from.</span>
</span><span id="UiLoader.create_random_widget-304"><a href="#UiLoader.create_random_widget-304"><span class="linenos">304</span></a>
</span><span id="UiLoader.create_random_widget-305"><a href="#UiLoader.create_random_widget-305"><span class="linenos">305</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader.create_random_widget-306"><a href="#UiLoader.create_random_widget-306"><span class="linenos">306</span></a><span class="sd">        - `lv.obj | lv.button | lv.label | lv.image | lv.line | lv.bar | lv.slider | lv.switch | lv.checkbox | lv.roller | lv.dropdown | lv.textarea | lv.chart` The created random widget object.</span>
</span><span id="UiLoader.create_random_widget-307"><a href="#UiLoader.create_random_widget-307"><span class="linenos">307</span></a>
</span><span id="UiLoader.create_random_widget-308"><a href="#UiLoader.create_random_widget-308"><span class="linenos">308</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader.create_random_widget-309"><a href="#UiLoader.create_random_widget-309"><span class="linenos">309</span></a><span class="sd">        - `ValueError` If the `parent_id`, `count`, or `widget_list` properties are missing or invalid.</span>
</span><span id="UiLoader.create_random_widget-310"><a href="#UiLoader.create_random_widget-310"><span class="linenos">310</span></a>
</span><span id="UiLoader.create_random_widget-311"><a href="#UiLoader.create_random_widget-311"><span class="linenos">311</span></a><span class="sd">        Create a random widget based on the JSON element.</span>
</span><span id="UiLoader.create_random_widget-312"><a href="#UiLoader.create_random_widget-312"><span class="linenos">312</span></a><span class="sd">        A random type is chosen from the &#39;widget_list&#39; property. The chosen type is then passed to the widget creation function.</span>
</span><span id="UiLoader.create_random_widget-313"><a href="#UiLoader.create_random_widget-313"><span class="linenos">313</span></a><span class="sd">        This is done X times based on the &#39;count&#39; property.</span>
</span><span id="UiLoader.create_random_widget-314"><a href="#UiLoader.create_random_widget-314"><span class="linenos">314</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.create_random_widget-315"><a href="#UiLoader.create_random_widget-315"><span class="linenos">315</span></a>        <span class="k">if</span> <span class="s2">&quot;parent_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;parent_id&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="UiLoader.create_random_widget-316"><a href="#UiLoader.create_random_widget-316"><span class="linenos">316</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Random widget must have &#39;parent_id&#39; of type str: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_random_widget-317"><a href="#UiLoader.create_random_widget-317"><span class="linenos">317</span></a>        <span class="k">if</span> <span class="s2">&quot;count&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader.create_random_widget-318"><a href="#UiLoader.create_random_widget-318"><span class="linenos">318</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Random widget must have &#39;count&#39; of type int: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_random_widget-319"><a href="#UiLoader.create_random_widget-319"><span class="linenos">319</span></a>        <span class="k">if</span> <span class="s2">&quot;widget_list&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;widget_list&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="UiLoader.create_random_widget-320"><a href="#UiLoader.create_random_widget-320"><span class="linenos">320</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Random widget must have &#39;widget_list&#39; of type list: </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_random_widget-321"><a href="#UiLoader.create_random_widget-321"><span class="linenos">321</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">]):</span>
</span><span id="UiLoader.create_random_widget-322"><a href="#UiLoader.create_random_widget-322"><span class="linenos">322</span></a>            <span class="n">element</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;widget_list&quot;</span><span class="p">])</span>
</span><span id="UiLoader.create_random_widget-323"><a href="#UiLoader.create_random_widget-323"><span class="linenos">323</span></a>            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_widget</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</span><span id="UiLoader.create_random_widget-324"><a href="#UiLoader.create_random_widget-324"><span class="linenos">324</span></a>            <span class="n">widget</span><span class="o">.</span><span class="n">set_parent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">[</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;parent_id&quot;</span><span class="p">]])</span>
</span><span id="UiLoader.create_random_widget-325"><a href="#UiLoader.create_random_widget-325"><span class="linenos">325</span></a>            <span class="k">if</span> <span class="s2">&quot;style&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="UiLoader.create_random_widget-326"><a href="#UiLoader.create_random_widget-326"><span class="linenos">326</span></a>                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">:</span>
</span><span id="UiLoader.create_random_widget-327"><a href="#UiLoader.create_random_widget-327"><span class="linenos">327</span></a>                    <span class="k">for</span> <span class="n">style</span> <span class="ow">in</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">]:</span>
</span><span id="UiLoader.create_random_widget-328"><a href="#UiLoader.create_random_widget-328"><span class="linenos">328</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">apply_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span>
</span><span id="UiLoader.create_random_widget-329"><a href="#UiLoader.create_random_widget-329"><span class="linenos">329</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader.create_random_widget-330"><a href="#UiLoader.create_random_widget-330"><span class="linenos">330</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">apply_style</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">element</span><span class="p">[</span><span class="s2">&quot;style&quot;</span><span class="p">])</span>
</span><span id="UiLoader.create_random_widget-331"><a href="#UiLoader.create_random_widget-331"><span class="linenos">331</span></a>            <span class="k">if</span> <span class="s2">&quot;placement&quot;</span> <span class="ow">in</span> <span class="n">element</span><span class="p">:</span>
</span><span id="UiLoader.create_random_widget-332"><a href="#UiLoader.create_random_widget-332"><span class="linenos">332</span></a>                <span class="c1"># NOTE Assuming parent is grid layout if &quot;placement&quot; is present</span>
</span><span id="UiLoader.create_random_widget-333"><a href="#UiLoader.create_random_widget-333"><span class="linenos">333</span></a>                <span class="c1"># FIXME placement should be adjusted for each created random widget, as they can&#39;t all be in the same spot</span>
</span><span id="UiLoader.create_random_widget-334"><a href="#UiLoader.create_random_widget-334"><span class="linenos">334</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">place_widget_in_grid</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
</span><span id="UiLoader.create_random_widget-335"><a href="#UiLoader.create_random_widget-335"><span class="linenos">335</span></a>        <span class="k">return</span> <span class="n">widget</span>
</span></pre></div>


            <div class="docstring"><p><strong>Params:</strong></p>

<ul>
<li><code>element</code> The JSON element to create the random widget from.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>lv.obj | lv.button | lv.label | lv.image | lv.line | lv.bar | lv.slider | lv.switch | lv.checkbox | lv.roller | lv.dropdown | lv.textarea | lv.chart</code> The created random widget object.</li>
</ul>

<p><strong>Raises:</strong></p>

<ul>
<li><code>ValueError</code> If the <code>parent_id</code>, <code>count</code>, or <code>widget_list</code> properties are missing or invalid.</li>
</ul>

<p>Create a random widget based on the JSON element.
A random type is chosen from the 'widget_list' property. The chosen type is then passed to the widget creation function.
This is done X times based on the 'count' property.</p>
</div>


                            </div>
                            <div id="UiLoader.place_widget_in_grid" class="classattr">
                                        <input id="UiLoader.place_widget_in_grid-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">place_widget_in_grid</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">widget</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">MagicMock</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;mock.obj&#39;</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;140276925943696&#39;</span><span class="o">&gt;</span>,</span><span class="param">	<span class="n">child_element</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UiLoader.place_widget_in_grid-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.place_widget_in_grid"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.place_widget_in_grid-337"><a href="#UiLoader.place_widget_in_grid-337"><span class="linenos">337</span></a>    <span class="k">def</span> <span class="nf">place_widget_in_grid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">child_element</span><span class="p">):</span>
</span><span id="UiLoader.place_widget_in_grid-338"><a href="#UiLoader.place_widget_in_grid-338"><span class="linenos">338</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.place_widget_in_grid-339"><a href="#UiLoader.place_widget_in_grid-339"><span class="linenos">339</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader.place_widget_in_grid-340"><a href="#UiLoader.place_widget_in_grid-340"><span class="linenos">340</span></a><span class="sd">        - `widget` The widget to place in the grid container.</span>
</span><span id="UiLoader.place_widget_in_grid-341"><a href="#UiLoader.place_widget_in_grid-341"><span class="linenos">341</span></a><span class="sd">        - `child_element` The JSON element of the child widget to place in the grid container.</span>
</span><span id="UiLoader.place_widget_in_grid-342"><a href="#UiLoader.place_widget_in_grid-342"><span class="linenos">342</span></a>
</span><span id="UiLoader.place_widget_in_grid-343"><a href="#UiLoader.place_widget_in_grid-343"><span class="linenos">343</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader.place_widget_in_grid-344"><a href="#UiLoader.place_widget_in_grid-344"><span class="linenos">344</span></a><span class="sd">        - `ValueError` If the `placement` property is missing or invalid.</span>
</span><span id="UiLoader.place_widget_in_grid-345"><a href="#UiLoader.place_widget_in_grid-345"><span class="linenos">345</span></a><span class="sd">        - `ValueError` If the `col_pos`, `col_span`, `row_pos`, or `row_span` properties are missing or invalid.</span>
</span><span id="UiLoader.place_widget_in_grid-346"><a href="#UiLoader.place_widget_in_grid-346"><span class="linenos">346</span></a>
</span><span id="UiLoader.place_widget_in_grid-347"><a href="#UiLoader.place_widget_in_grid-347"><span class="linenos">347</span></a><span class="sd">        Place the provided child widget in the grid container widget based on the &#39;placement&#39; property in the child JSON element.</span>
</span><span id="UiLoader.place_widget_in_grid-348"><a href="#UiLoader.place_widget_in_grid-348"><span class="linenos">348</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.place_widget_in_grid-349"><a href="#UiLoader.place_widget_in_grid-349"><span class="linenos">349</span></a>        <span class="k">if</span> <span class="s2">&quot;placement&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="UiLoader.place_widget_in_grid-350"><a href="#UiLoader.place_widget_in_grid-350"><span class="linenos">350</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;placement&#39; property of type &#39;dict&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.place_widget_in_grid-351"><a href="#UiLoader.place_widget_in_grid-351"><span class="linenos">351</span></a>        <span class="c1"># placement options: column_align: Unknown, col_pos: int, col_span: int, row_align: Unknown, row_pos: int, row_span: int</span>
</span><span id="UiLoader.place_widget_in_grid-352"><a href="#UiLoader.place_widget_in_grid-352"><span class="linenos">352</span></a>        <span class="k">if</span> <span class="s2">&quot;col_pos&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;col_pos&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader.place_widget_in_grid-353"><a href="#UiLoader.place_widget_in_grid-353"><span class="linenos">353</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;col_pos&#39; property of type &#39;int&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.place_widget_in_grid-354"><a href="#UiLoader.place_widget_in_grid-354"><span class="linenos">354</span></a>        <span class="k">if</span> <span class="s2">&quot;col_span&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;col_span&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader.place_widget_in_grid-355"><a href="#UiLoader.place_widget_in_grid-355"><span class="linenos">355</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;col_span&#39; property of type &#39;int&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.place_widget_in_grid-356"><a href="#UiLoader.place_widget_in_grid-356"><span class="linenos">356</span></a>        <span class="k">if</span> <span class="s2">&quot;row_pos&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;row_pos&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader.place_widget_in_grid-357"><a href="#UiLoader.place_widget_in_grid-357"><span class="linenos">357</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;row_pos&#39; property of type &#39;int&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.place_widget_in_grid-358"><a href="#UiLoader.place_widget_in_grid-358"><span class="linenos">358</span></a>        <span class="k">if</span> <span class="s2">&quot;row_span&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;row_span&quot;</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span> 
</span><span id="UiLoader.place_widget_in_grid-359"><a href="#UiLoader.place_widget_in_grid-359"><span class="linenos">359</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Child element of grid layout must have &#39;row_span&#39; property of type &#39;int&#39;: </span><span class="si">{</span><span class="n">child_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.place_widget_in_grid-360"><a href="#UiLoader.place_widget_in_grid-360"><span class="linenos">360</span></a>        <span class="n">row_align</span> <span class="o">=</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;row_align&quot;</span><span class="p">,</span> <span class="s2">&quot;space_evenly&quot;</span><span class="p">)</span>
</span><span id="UiLoader.place_widget_in_grid-361"><a href="#UiLoader.place_widget_in_grid-361"><span class="linenos">361</span></a>        <span class="n">col_align</span> <span class="o">=</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;col_align&quot;</span><span class="p">,</span> <span class="s2">&quot;space_evenly&quot;</span><span class="p">)</span>
</span><span id="UiLoader.place_widget_in_grid-362"><a href="#UiLoader.place_widget_in_grid-362"><span class="linenos">362</span></a>        <span class="n">row_align</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">GRID_ALIGN</span><span class="p">,</span> <span class="n">row_align</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">lv</span><span class="o">.</span><span class="n">GRID_ALIGN</span><span class="o">.</span><span class="n">SPACE_EVENLY</span><span class="p">)</span>
</span><span id="UiLoader.place_widget_in_grid-363"><a href="#UiLoader.place_widget_in_grid-363"><span class="linenos">363</span></a>        <span class="n">col_align</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">GRID_ALIGN</span><span class="p">,</span> <span class="n">col_align</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">lv</span><span class="o">.</span><span class="n">GRID_ALIGN</span><span class="o">.</span><span class="n">SPACE_EVENLY</span><span class="p">)</span>
</span><span id="UiLoader.place_widget_in_grid-364"><a href="#UiLoader.place_widget_in_grid-364"><span class="linenos">364</span></a>        <span class="n">widget</span><span class="o">.</span><span class="n">set_grid_cell</span><span class="p">(</span><span class="n">col_align</span><span class="p">,</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;col_pos&quot;</span><span class="p">],</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;col_span&quot;</span><span class="p">],</span> <span class="n">row_align</span><span class="p">,</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;row_pos&quot;</span><span class="p">],</span> <span class="n">child_element</span><span class="p">[</span><span class="s2">&quot;placement&quot;</span><span class="p">][</span><span class="s2">&quot;row_span&quot;</span><span class="p">])</span>
</span></pre></div>


            <div class="docstring"><p><strong>Params:</strong></p>

<ul>
<li><code>widget</code> The widget to place in the grid container.</li>
<li><code>child_element</code> The JSON element of the child widget to place in the grid container.</li>
</ul>

<p><strong>Raises:</strong></p>

<ul>
<li><code>ValueError</code> If the <code>placement</code> property is missing or invalid.</li>
<li><code>ValueError</code> If the <code>col_pos</code>, <code>col_span</code>, <code>row_pos</code>, or <code>row_span</code> properties are missing or invalid.</li>
</ul>

<p>Place the provided child widget in the grid container widget based on the 'placement' property in the child JSON element.</p>
</div>


                            </div>
                            <div id="UiLoader.create_style" class="classattr">
                                        <input id="UiLoader.create_style-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_style</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">style_def</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UiLoader.create_style-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.create_style"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.create_style-370"><a href="#UiLoader.create_style-370"><span class="linenos">370</span></a>    <span class="k">def</span> <span class="nf">create_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style_def</span><span class="p">):</span>
</span><span id="UiLoader.create_style-371"><a href="#UiLoader.create_style-371"><span class="linenos">371</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.create_style-372"><a href="#UiLoader.create_style-372"><span class="linenos">372</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader.create_style-373"><a href="#UiLoader.create_style-373"><span class="linenos">373</span></a><span class="sd">        - `style_def` The JSON style definition to create the style object from.</span>
</span><span id="UiLoader.create_style-374"><a href="#UiLoader.create_style-374"><span class="linenos">374</span></a>
</span><span id="UiLoader.create_style-375"><a href="#UiLoader.create_style-375"><span class="linenos">375</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader.create_style-376"><a href="#UiLoader.create_style-376"><span class="linenos">376</span></a><span class="sd">        - `lv.style_t` The created style object.</span>
</span><span id="UiLoader.create_style-377"><a href="#UiLoader.create_style-377"><span class="linenos">377</span></a>
</span><span id="UiLoader.create_style-378"><a href="#UiLoader.create_style-378"><span class="linenos">378</span></a><span class="sd">        Create an LVGL style object based on the style definition provided in the JSON data.</span>
</span><span id="UiLoader.create_style-379"><a href="#UiLoader.create_style-379"><span class="linenos">379</span></a><span class="sd">        Provided style property values are converted to the required type, according to conversion rules of the called conversion function.</span>
</span><span id="UiLoader.create_style-380"><a href="#UiLoader.create_style-380"><span class="linenos">380</span></a><span class="sd">        If a style property is not recognized, a message is printed to the console and the property is skipped.</span>
</span><span id="UiLoader.create_style-381"><a href="#UiLoader.create_style-381"><span class="linenos">381</span></a><span class="sd">        If value conversion fails, a message is printed to the console and the property is skipped.</span>
</span><span id="UiLoader.create_style-382"><a href="#UiLoader.create_style-382"><span class="linenos">382</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.create_style-383"><a href="#UiLoader.create_style-383"><span class="linenos">383</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating style: </span><span class="si">{</span><span class="n">style_def</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_style-384"><a href="#UiLoader.create_style-384"><span class="linenos">384</span></a>        <span class="n">style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">style_t</span><span class="p">()</span> <span class="c1"># FIXME missing parameter &#39;args&#39; of type &#39;_style_t_type&#39; (unresolved) - ignore?</span>
</span><span id="UiLoader.create_style-385"><a href="#UiLoader.create_style-385"><span class="linenos">385</span></a>        <span class="n">style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
</span><span id="UiLoader.create_style-386"><a href="#UiLoader.create_style-386"><span class="linenos">386</span></a>
</span><span id="UiLoader.create_style-387"><a href="#UiLoader.create_style-387"><span class="linenos">387</span></a>        <span class="k">for</span> <span class="n">prop</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">style_def</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="UiLoader.create_style-388"><a href="#UiLoader.create_style-388"><span class="linenos">388</span></a>            <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;selector&quot;</span><span class="p">:</span>
</span><span id="UiLoader.create_style-389"><a href="#UiLoader.create_style-389"><span class="linenos">389</span></a>                <span class="k">continue</span>
</span><span id="UiLoader.create_style-390"><a href="#UiLoader.create_style-390"><span class="linenos">390</span></a>            <span class="n">setter_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;set_</span><span class="si">{</span><span class="n">prop</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="UiLoader.create_style-391"><a href="#UiLoader.create_style-391"><span class="linenos">391</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="n">setter_name</span><span class="p">):</span>
</span><span id="UiLoader.create_style-392"><a href="#UiLoader.create_style-392"><span class="linenos">392</span></a>                <span class="n">setter</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="n">setter_name</span><span class="p">)</span>
</span><span id="UiLoader.create_style-393"><a href="#UiLoader.create_style-393"><span class="linenos">393</span></a>                <span class="n">converted_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_value</span><span class="p">(</span><span class="n">prop</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="UiLoader.create_style-394"><a href="#UiLoader.create_style-394"><span class="linenos">394</span></a>                <span class="k">if</span><span class="p">(</span><span class="n">converted_value</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="UiLoader.create_style-395"><a href="#UiLoader.create_style-395"><span class="linenos">395</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported value conversion: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> for style property </span><span class="si">{</span><span class="n">prop</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_style-396"><a href="#UiLoader.create_style-396"><span class="linenos">396</span></a>                    <span class="k">continue</span>
</span><span id="UiLoader.create_style-397"><a href="#UiLoader.create_style-397"><span class="linenos">397</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="UiLoader.create_style-398"><a href="#UiLoader.create_style-398"><span class="linenos">398</span></a>                    <span class="n">setter</span><span class="p">(</span><span class="n">converted_value</span><span class="p">)</span>
</span><span id="UiLoader.create_style-399"><a href="#UiLoader.create_style-399"><span class="linenos">399</span></a>                <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="UiLoader.create_style-400"><a href="#UiLoader.create_style-400"><span class="linenos">400</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TypeError setting style property </span><span class="si">{</span><span class="n">prop</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_style-401"><a href="#UiLoader.create_style-401"><span class="linenos">401</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader.create_style-402"><a href="#UiLoader.create_style-402"><span class="linenos">402</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported style property: </span><span class="si">{</span><span class="n">prop</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.create_style-403"><a href="#UiLoader.create_style-403"><span class="linenos">403</span></a>
</span><span id="UiLoader.create_style-404"><a href="#UiLoader.create_style-404"><span class="linenos">404</span></a>        <span class="k">return</span> <span class="n">style</span>
</span></pre></div>


            <div class="docstring"><p><strong>Params:</strong></p>

<ul>
<li><code>style_def</code> The JSON style definition to create the style object from.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>lv.style_t</code> The created style object.</li>
</ul>

<p>Create an LVGL style object based on the style definition provided in the JSON data.
Provided style property values are converted to the required type, according to conversion rules of the called conversion function.
If a style property is not recognized, a message is printed to the console and the property is skipped.
If value conversion fails, a message is printed to the console and the property is skipped.</p>
</div>


                            </div>
                            <div id="UiLoader.convert_value" class="classattr">
                                        <input id="UiLoader.convert_value-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">convert_value</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">prop_name</span>, </span><span class="param"><span class="n">value</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UiLoader.convert_value-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.convert_value"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.convert_value-406"><a href="#UiLoader.convert_value-406"><span class="linenos">406</span></a>    <span class="k">def</span> <span class="nf">convert_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prop_name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="UiLoader.convert_value-407"><a href="#UiLoader.convert_value-407"><span class="linenos">407</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.convert_value-408"><a href="#UiLoader.convert_value-408"><span class="linenos">408</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader.convert_value-409"><a href="#UiLoader.convert_value-409"><span class="linenos">409</span></a><span class="sd">        - `prop_name` The name of the property to convert the value for.</span>
</span><span id="UiLoader.convert_value-410"><a href="#UiLoader.convert_value-410"><span class="linenos">410</span></a><span class="sd">        - `value` The value to convert to the required type.</span>
</span><span id="UiLoader.convert_value-411"><a href="#UiLoader.convert_value-411"><span class="linenos">411</span></a>
</span><span id="UiLoader.convert_value-412"><a href="#UiLoader.convert_value-412"><span class="linenos">412</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader.convert_value-413"><a href="#UiLoader.convert_value-413"><span class="linenos">413</span></a><span class="sd">        - `int | str | lv.color_t | lv.font_t | lv.align_t | lv.OPA | None` The converted value based on the property name.</span>
</span><span id="UiLoader.convert_value-414"><a href="#UiLoader.convert_value-414"><span class="linenos">414</span></a><span class="sd">        - `None` If the conversion fails.</span>
</span><span id="UiLoader.convert_value-415"><a href="#UiLoader.convert_value-415"><span class="linenos">415</span></a>
</span><span id="UiLoader.convert_value-416"><a href="#UiLoader.convert_value-416"><span class="linenos">416</span></a><span class="sd">        Convert the provided value to the required type based on the property name.</span>
</span><span id="UiLoader.convert_value-417"><a href="#UiLoader.convert_value-417"><span class="linenos">417</span></a><span class="sd">        If there is no conversion available for the property, None is returned. (i.e. conversion fails)</span>
</span><span id="UiLoader.convert_value-418"><a href="#UiLoader.convert_value-418"><span class="linenos">418</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.convert_value-419"><a href="#UiLoader.convert_value-419"><span class="linenos">419</span></a>        <span class="c1"># This function converts the value based on the property name</span>
</span><span id="UiLoader.convert_value-420"><a href="#UiLoader.convert_value-420"><span class="linenos">420</span></a>        <span class="k">if</span> <span class="s2">&quot;color&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-421"><a href="#UiLoader.convert_value-421"><span class="linenos">421</span></a>            <span class="n">converted_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">),</span> <span class="mi">16</span><span class="p">)</span>
</span><span id="UiLoader.convert_value-422"><a href="#UiLoader.convert_value-422"><span class="linenos">422</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;set_</span><span class="si">{</span><span class="n">prop_name</span><span class="si">}</span><span class="s2">: Color property conversion:</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> =&gt; </span><span class="si">{</span><span class="n">converted_value</span><span class="si">:</span><span class="s2">x</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.convert_value-423"><a href="#UiLoader.convert_value-423"><span class="linenos">423</span></a>            <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">color_hex</span><span class="p">(</span><span class="n">converted_value</span><span class="p">)</span>
</span><span id="UiLoader.convert_value-424"><a href="#UiLoader.convert_value-424"><span class="linenos">424</span></a>        <span class="k">elif</span> <span class="s2">&quot;font&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-425"><a href="#UiLoader.convert_value-425"><span class="linenos">425</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Font property: </span><span class="si">{</span><span class="n">prop_name</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.convert_value-426"><a href="#UiLoader.convert_value-426"><span class="linenos">426</span></a>            <span class="c1"># TODO micropython doesn&#39;t support font ?</span>
</span><span id="UiLoader.convert_value-427"><a href="#UiLoader.convert_value-427"><span class="linenos">427</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="UiLoader.convert_value-428"><a href="#UiLoader.convert_value-428"><span class="linenos">428</span></a>        <span class="k">elif</span> <span class="s2">&quot;align&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-429"><a href="#UiLoader.convert_value-429"><span class="linenos">429</span></a>            <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;center&quot;</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-430"><a href="#UiLoader.convert_value-430"><span class="linenos">430</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">CENTER</span>
</span><span id="UiLoader.convert_value-431"><a href="#UiLoader.convert_value-431"><span class="linenos">431</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;top-left&quot;</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-432"><a href="#UiLoader.convert_value-432"><span class="linenos">432</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">TOP_LEFT</span>
</span><span id="UiLoader.convert_value-433"><a href="#UiLoader.convert_value-433"><span class="linenos">433</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;top-right&quot;</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-434"><a href="#UiLoader.convert_value-434"><span class="linenos">434</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">TOP_RIGHT</span>
</span><span id="UiLoader.convert_value-435"><a href="#UiLoader.convert_value-435"><span class="linenos">435</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;top&quot;</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-436"><a href="#UiLoader.convert_value-436"><span class="linenos">436</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">TOP_MID</span>
</span><span id="UiLoader.convert_value-437"><a href="#UiLoader.convert_value-437"><span class="linenos">437</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;bottom-left&quot;</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-438"><a href="#UiLoader.convert_value-438"><span class="linenos">438</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">BOTTOM_LEFT</span>
</span><span id="UiLoader.convert_value-439"><a href="#UiLoader.convert_value-439"><span class="linenos">439</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;bottom-right&quot;</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-440"><a href="#UiLoader.convert_value-440"><span class="linenos">440</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">BOTTOM_RIGHT</span>
</span><span id="UiLoader.convert_value-441"><a href="#UiLoader.convert_value-441"><span class="linenos">441</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;bottom&quot;</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-442"><a href="#UiLoader.convert_value-442"><span class="linenos">442</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">BOTTOM_MID</span>
</span><span id="UiLoader.convert_value-443"><a href="#UiLoader.convert_value-443"><span class="linenos">443</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;left&quot;</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-444"><a href="#UiLoader.convert_value-444"><span class="linenos">444</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">LEFT_MID</span>
</span><span id="UiLoader.convert_value-445"><a href="#UiLoader.convert_value-445"><span class="linenos">445</span></a>            <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;right&quot;</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-446"><a href="#UiLoader.convert_value-446"><span class="linenos">446</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">RIGHT_MID</span>
</span><span id="UiLoader.convert_value-447"><a href="#UiLoader.convert_value-447"><span class="linenos">447</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-448"><a href="#UiLoader.convert_value-448"><span class="linenos">448</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">DEFAULT</span>
</span><span id="UiLoader.convert_value-449"><a href="#UiLoader.convert_value-449"><span class="linenos">449</span></a>        <span class="k">elif</span> <span class="s2">&quot;opa&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-450"><a href="#UiLoader.convert_value-450"><span class="linenos">450</span></a>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-451"><a href="#UiLoader.convert_value-451"><span class="linenos">451</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prop_name</span><span class="si">}</span><span class="s2">: Invalid opacity value: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> (expected int)&quot;</span><span class="p">)</span>
</span><span id="UiLoader.convert_value-452"><a href="#UiLoader.convert_value-452"><span class="linenos">452</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="UiLoader.convert_value-453"><a href="#UiLoader.convert_value-453"><span class="linenos">453</span></a>            <span class="n">opacity</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span>
</span><span id="UiLoader.convert_value-454"><a href="#UiLoader.convert_value-454"><span class="linenos">454</span></a>            <span class="k">if</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-455"><a href="#UiLoader.convert_value-455"><span class="linenos">455</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_0</span>
</span><span id="UiLoader.convert_value-456"><a href="#UiLoader.convert_value-456"><span class="linenos">456</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-457"><a href="#UiLoader.convert_value-457"><span class="linenos">457</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_10</span>
</span><span id="UiLoader.convert_value-458"><a href="#UiLoader.convert_value-458"><span class="linenos">458</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-459"><a href="#UiLoader.convert_value-459"><span class="linenos">459</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_20</span>
</span><span id="UiLoader.convert_value-460"><a href="#UiLoader.convert_value-460"><span class="linenos">460</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-461"><a href="#UiLoader.convert_value-461"><span class="linenos">461</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_30</span>
</span><span id="UiLoader.convert_value-462"><a href="#UiLoader.convert_value-462"><span class="linenos">462</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-463"><a href="#UiLoader.convert_value-463"><span class="linenos">463</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_40</span>
</span><span id="UiLoader.convert_value-464"><a href="#UiLoader.convert_value-464"><span class="linenos">464</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-465"><a href="#UiLoader.convert_value-465"><span class="linenos">465</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_50</span>
</span><span id="UiLoader.convert_value-466"><a href="#UiLoader.convert_value-466"><span class="linenos">466</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-467"><a href="#UiLoader.convert_value-467"><span class="linenos">467</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_60</span>
</span><span id="UiLoader.convert_value-468"><a href="#UiLoader.convert_value-468"><span class="linenos">468</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-469"><a href="#UiLoader.convert_value-469"><span class="linenos">469</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_70</span>
</span><span id="UiLoader.convert_value-470"><a href="#UiLoader.convert_value-470"><span class="linenos">470</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-471"><a href="#UiLoader.convert_value-471"><span class="linenos">471</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_80</span>
</span><span id="UiLoader.convert_value-472"><a href="#UiLoader.convert_value-472"><span class="linenos">472</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">9</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-473"><a href="#UiLoader.convert_value-473"><span class="linenos">473</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_90</span>
</span><span id="UiLoader.convert_value-474"><a href="#UiLoader.convert_value-474"><span class="linenos">474</span></a>            <span class="k">elif</span> <span class="n">opacity</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-475"><a href="#UiLoader.convert_value-475"><span class="linenos">475</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">_100</span>
</span><span id="UiLoader.convert_value-476"><a href="#UiLoader.convert_value-476"><span class="linenos">476</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-477"><a href="#UiLoader.convert_value-477"><span class="linenos">477</span></a>                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">TRANSP</span>
</span><span id="UiLoader.convert_value-478"><a href="#UiLoader.convert_value-478"><span class="linenos">478</span></a>        <span class="k">elif</span> <span class="s2">&quot;width&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span> <span class="ow">or</span> <span class="s2">&quot;height&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-479"><a href="#UiLoader.convert_value-479"><span class="linenos">479</span></a>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-480"><a href="#UiLoader.convert_value-480"><span class="linenos">480</span></a>                <span class="c1"># FIXME Percentage values should be calculated in relation to the parent widget</span>
</span><span id="UiLoader.convert_value-481"><a href="#UiLoader.convert_value-481"><span class="linenos">481</span></a>                <span class="n">new_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;width&quot;</span> <span class="ow">in</span> <span class="n">prop_name</span> <span class="k">else</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span><span id="UiLoader.convert_value-482"><a href="#UiLoader.convert_value-482"><span class="linenos">482</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Size property conversion: </span><span class="si">{</span><span class="n">prop_name</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> =&gt; </span><span class="si">{</span><span class="n">new_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.convert_value-483"><a href="#UiLoader.convert_value-483"><span class="linenos">483</span></a>                <span class="k">return</span> <span class="n">new_value</span>
</span><span id="UiLoader.convert_value-484"><a href="#UiLoader.convert_value-484"><span class="linenos">484</span></a>            <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-485"><a href="#UiLoader.convert_value-485"><span class="linenos">485</span></a>                <span class="k">return</span> <span class="n">value</span>
</span><span id="UiLoader.convert_value-486"><a href="#UiLoader.convert_value-486"><span class="linenos">486</span></a>        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-487"><a href="#UiLoader.convert_value-487"><span class="linenos">487</span></a>            <span class="k">return</span> <span class="n">value</span>
</span><span id="UiLoader.convert_value-488"><a href="#UiLoader.convert_value-488"><span class="linenos">488</span></a>        <span class="k">elif</span> <span class="n">prop_name</span> <span class="o">==</span> <span class="s2">&quot;selector&quot;</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-489"><a href="#UiLoader.convert_value-489"><span class="linenos">489</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">()):</span>
</span><span id="UiLoader.convert_value-490"><a href="#UiLoader.convert_value-490"><span class="linenos">490</span></a>                <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
</span><span id="UiLoader.convert_value-491"><a href="#UiLoader.convert_value-491"><span class="linenos">491</span></a>            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">STATE</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">()):</span>
</span><span id="UiLoader.convert_value-492"><a href="#UiLoader.convert_value-492"><span class="linenos">492</span></a>                <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">STATE</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
</span><span id="UiLoader.convert_value-493"><a href="#UiLoader.convert_value-493"><span class="linenos">493</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader.convert_value-494"><a href="#UiLoader.convert_value-494"><span class="linenos">494</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="UiLoader.convert_value-495"><a href="#UiLoader.convert_value-495"><span class="linenos">495</span></a>        <span class="c1"># TODO Add more conversions as needed for other property types</span>
</span><span id="UiLoader.convert_value-496"><a href="#UiLoader.convert_value-496"><span class="linenos">496</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p><strong>Params:</strong></p>

<ul>
<li><code>prop_name</code> The name of the property to convert the value for.</li>
<li><code>value</code> The value to convert to the required type.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>int | str | lv.color_t | lv.font_t | lv.align_t | lv.OPA | None</code> The converted value based on the property name.</li>
<li><code>None</code> If the conversion fails.</li>
</ul>

<p>Convert the provided value to the required type based on the property name.
If there is no conversion available for the property, None is returned. (i.e. conversion fails)</p>
</div>


                            </div>
                            <div id="UiLoader.apply_style" class="classattr">
                                        <input id="UiLoader.apply_style-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">apply_style</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">widget</span>, </span><span class="param"><span class="n">style_name</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UiLoader.apply_style-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.apply_style"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.apply_style-498"><a href="#UiLoader.apply_style-498"><span class="linenos">498</span></a>    <span class="k">def</span> <span class="nf">apply_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">style_name</span><span class="p">):</span>
</span><span id="UiLoader.apply_style-499"><a href="#UiLoader.apply_style-499"><span class="linenos">499</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.apply_style-500"><a href="#UiLoader.apply_style-500"><span class="linenos">500</span></a><span class="sd">        **Params:**</span>
</span><span id="UiLoader.apply_style-501"><a href="#UiLoader.apply_style-501"><span class="linenos">501</span></a><span class="sd">        - `widget` The widget object to apply the style to.</span>
</span><span id="UiLoader.apply_style-502"><a href="#UiLoader.apply_style-502"><span class="linenos">502</span></a><span class="sd">        - `style_name` The name of the style to apply to the widget.</span>
</span><span id="UiLoader.apply_style-503"><a href="#UiLoader.apply_style-503"><span class="linenos">503</span></a>
</span><span id="UiLoader.apply_style-504"><a href="#UiLoader.apply_style-504"><span class="linenos">504</span></a><span class="sd">        **Raises:**</span>
</span><span id="UiLoader.apply_style-505"><a href="#UiLoader.apply_style-505"><span class="linenos">505</span></a><span class="sd">        - `ValueError` If the style does not exist in the JSON data.</span>
</span><span id="UiLoader.apply_style-506"><a href="#UiLoader.apply_style-506"><span class="linenos">506</span></a>
</span><span id="UiLoader.apply_style-507"><a href="#UiLoader.apply_style-507"><span class="linenos">507</span></a><span class="sd">        Lookup the style name in the list of styles and apply the created style object to the widget.</span>
</span><span id="UiLoader.apply_style-508"><a href="#UiLoader.apply_style-508"><span class="linenos">508</span></a><span class="sd">        If the style name is not found in the list of styles, a new style is created and added to the list.</span>
</span><span id="UiLoader.apply_style-509"><a href="#UiLoader.apply_style-509"><span class="linenos">509</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.apply_style-510"><a href="#UiLoader.apply_style-510"><span class="linenos">510</span></a>        <span class="c1"># Style application logic goes here</span>
</span><span id="UiLoader.apply_style-511"><a href="#UiLoader.apply_style-511"><span class="linenos">511</span></a>        <span class="c1"># For example, lookup a style in self.data[&quot;ui&quot;][&quot;styles&quot;] and apply it to the widget</span>
</span><span id="UiLoader.apply_style-512"><a href="#UiLoader.apply_style-512"><span class="linenos">512</span></a>        <span class="k">if</span> <span class="n">style_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">:</span>
</span><span id="UiLoader.apply_style-513"><a href="#UiLoader.apply_style-513"><span class="linenos">513</span></a>            <span class="k">if</span> <span class="n">style_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;styles&quot;</span><span class="p">]:</span>
</span><span id="UiLoader.apply_style-514"><a href="#UiLoader.apply_style-514"><span class="linenos">514</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Style not found: </span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.apply_style-515"><a href="#UiLoader.apply_style-515"><span class="linenos">515</span></a>            <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_style</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;styles&quot;</span><span class="p">][</span><span class="n">style_name</span><span class="p">])</span>
</span><span id="UiLoader.apply_style-516"><a href="#UiLoader.apply_style-516"><span class="linenos">516</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="n">style_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">style</span>
</span><span id="UiLoader.apply_style-517"><a href="#UiLoader.apply_style-517"><span class="linenos">517</span></a>            <span class="k">if</span> <span class="s2">&quot;selector&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;styles&quot;</span><span class="p">][</span><span class="n">style_name</span><span class="p">]:</span>
</span><span id="UiLoader.apply_style-518"><a href="#UiLoader.apply_style-518"><span class="linenos">518</span></a>                <span class="n">selector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_value</span><span class="p">(</span><span class="s2">&quot;selector&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s2">&quot;styles&quot;</span><span class="p">][</span><span class="n">style_name</span><span class="p">][</span><span class="s2">&quot;selector&quot;</span><span class="p">])</span>
</span><span id="UiLoader.apply_style-519"><a href="#UiLoader.apply_style-519"><span class="linenos">519</span></a>                <span class="k">if</span> <span class="n">selector</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="UiLoader.apply_style-520"><a href="#UiLoader.apply_style-520"><span class="linenos">520</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid selector value for style: </span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">[</span><span class="s1">&#39;styles&#39;</span><span class="p">][</span><span class="n">style_name</span><span class="p">][</span><span class="s1">&#39;selector&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.apply_style-521"><a href="#UiLoader.apply_style-521"><span class="linenos">521</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">_selector&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">MAIN</span>
</span><span id="UiLoader.apply_style-522"><a href="#UiLoader.apply_style-522"><span class="linenos">522</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader.apply_style-523"><a href="#UiLoader.apply_style-523"><span class="linenos">523</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">_selector&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">selector</span>
</span><span id="UiLoader.apply_style-524"><a href="#UiLoader.apply_style-524"><span class="linenos">524</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="UiLoader.apply_style-525"><a href="#UiLoader.apply_style-525"><span class="linenos">525</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">_selector&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">MAIN</span>
</span><span id="UiLoader.apply_style-526"><a href="#UiLoader.apply_style-526"><span class="linenos">526</span></a>        <span class="n">widget</span><span class="o">.</span><span class="n">add_style</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="n">style_name</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">style_name</span><span class="si">}</span><span class="s2">_selector&quot;</span><span class="p">])</span>
</span></pre></div>


            <div class="docstring"><p><strong>Params:</strong></p>

<ul>
<li><code>widget</code> The widget object to apply the style to.</li>
<li><code>style_name</code> The name of the style to apply to the widget.</li>
</ul>

<p><strong>Raises:</strong></p>

<ul>
<li><code>ValueError</code> If the style does not exist in the JSON data.</li>
</ul>

<p>Lookup the style name in the list of styles and apply the created style object to the widget.
If the style name is not found in the list of styles, a new style is created and added to the list.</p>
</div>


                            </div>
                            <div id="UiLoader.update_screen" class="classattr">
                                        <input id="UiLoader.update_screen-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_screen</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UiLoader.update_screen-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.update_screen"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.update_screen-528"><a href="#UiLoader.update_screen-528"><span class="linenos">528</span></a>    <span class="k">def</span> <span class="nf">update_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UiLoader.update_screen-529"><a href="#UiLoader.update_screen-529"><span class="linenos">529</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Re-render the screen &amp; update the layout.&quot;&quot;&quot;</span>
</span><span id="UiLoader.update_screen-530"><a href="#UiLoader.update_screen-530"><span class="linenos">530</span></a>        <span class="n">lv</span><span class="o">.</span><span class="n">screen_load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="p">)</span>
</span><span id="UiLoader.update_screen-531"><a href="#UiLoader.update_screen-531"><span class="linenos">531</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span><span class="o">.</span><span class="n">update_layout</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Re-render the screen &amp; update the layout.</p>
</div>


                            </div>
                            <div id="UiLoader.get_root_widget" class="classattr">
                                        <input id="UiLoader.get_root_widget-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_root_widget</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UiLoader.get_root_widget-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.get_root_widget"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.get_root_widget-534"><a href="#UiLoader.get_root_widget-534"><span class="linenos">534</span></a>    <span class="k">def</span> <span class="nf">get_root_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UiLoader.get_root_widget-535"><a href="#UiLoader.get_root_widget-535"><span class="linenos">535</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the root widget object (container) of the UI.&quot;&quot;&quot;</span>
</span><span id="UiLoader.get_root_widget-536"><a href="#UiLoader.get_root_widget-536"><span class="linenos">536</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_widget</span>
</span></pre></div>


            <div class="docstring"><p>Return the root widget object (container) of the UI.</p>
</div>


                            </div>
                            <div id="UiLoader.get_ui" class="classattr">
                                        <input id="UiLoader.get_ui-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_ui</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n"><a href="ui.html#UI">src.ui.UI</a></span>:</span></span>

                <label class="view-source-button" for="UiLoader.get_ui-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.get_ui"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.get_ui-538"><a href="#UiLoader.get_ui-538"><span class="linenos">538</span></a>    <span class="k">def</span> <span class="nf">get_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UI</span><span class="p">:</span>
</span><span id="UiLoader.get_ui-539"><a href="#UiLoader.get_ui-539"><span class="linenos">539</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.get_ui-540"><a href="#UiLoader.get_ui-540"><span class="linenos">540</span></a><span class="sd">        **Returns:**</span>
</span><span id="UiLoader.get_ui-541"><a href="#UiLoader.get_ui-541"><span class="linenos">541</span></a><span class="sd">        - `UI` The UI object containing the metadata.</span>
</span><span id="UiLoader.get_ui-542"><a href="#UiLoader.get_ui-542"><span class="linenos">542</span></a>
</span><span id="UiLoader.get_ui-543"><a href="#UiLoader.get_ui-543"><span class="linenos">543</span></a><span class="sd">        Return a UI object (special dictionary) containing the screen dimensions and all widget position metadata required for bounding box annotation.</span>
</span><span id="UiLoader.get_ui-544"><a href="#UiLoader.get_ui-544"><span class="linenos">544</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.get_ui-545"><a href="#UiLoader.get_ui-545"><span class="linenos">545</span></a>        <span class="n">ui</span> <span class="o">=</span> <span class="n">UI</span><span class="p">()</span>
</span><span id="UiLoader.get_ui-546"><a href="#UiLoader.get_ui-546"><span class="linenos">546</span></a>        <span class="n">ui</span><span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="p">)</span>
</span><span id="UiLoader.get_ui-547"><a href="#UiLoader.get_ui-547"><span class="linenos">547</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_screen</span><span class="p">()</span>
</span><span id="UiLoader.get_ui-548"><a href="#UiLoader.get_ui-548"><span class="linenos">548</span></a>        <span class="k">for</span> <span class="nb">id</span><span class="p">,</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="UiLoader.get_ui-549"><a href="#UiLoader.get_ui-549"><span class="linenos">549</span></a>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span> <span class="ow">is</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="p">:</span>
</span><span id="UiLoader.get_ui-550"><a href="#UiLoader.get_ui-550"><span class="linenos">550</span></a>                <span class="k">continue</span> <span class="c1"># Skip container widgets</span>
</span><span id="UiLoader.get_ui-551"><a href="#UiLoader.get_ui-551"><span class="linenos">551</span></a>            <span class="n">widget_info</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="UiLoader.get_ui-552"><a href="#UiLoader.get_ui-552"><span class="linenos">552</span></a>            <span class="n">tmp_coords</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">area_t</span><span class="p">()</span>
</span><span id="UiLoader.get_ui-553"><a href="#UiLoader.get_ui-553"><span class="linenos">553</span></a>            <span class="n">widget</span><span class="o">.</span><span class="n">get_coords</span><span class="p">(</span><span class="n">tmp_coords</span><span class="p">)</span>
</span><span id="UiLoader.get_ui-554"><a href="#UiLoader.get_ui-554"><span class="linenos">554</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">tmp_coords</span><span class="o">.</span><span class="n">x1</span> <span class="o">+</span> <span class="n">tmp_coords</span><span class="o">.</span><span class="n">x2</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
</span><span id="UiLoader.get_ui-555"><a href="#UiLoader.get_ui-555"><span class="linenos">555</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">tmp_coords</span><span class="o">.</span><span class="n">y1</span> <span class="o">+</span> <span class="n">tmp_coords</span><span class="o">.</span><span class="n">y2</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
</span><span id="UiLoader.get_ui-556"><a href="#UiLoader.get_ui-556"><span class="linenos">556</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
</span><span id="UiLoader.get_ui-557"><a href="#UiLoader.get_ui-557"><span class="linenos">557</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;height&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
</span><span id="UiLoader.get_ui-558"><a href="#UiLoader.get_ui-558"><span class="linenos">558</span></a>            <span class="n">widget_info</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="UiLoader.get_ui-559"><a href="#UiLoader.get_ui-559"><span class="linenos">559</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Widget </span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">widget_info</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="UiLoader.get_ui-560"><a href="#UiLoader.get_ui-560"><span class="linenos">560</span></a>            <span class="n">ui</span><span class="p">[</span><span class="s2">&quot;objects&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">widget_info</span><span class="p">)</span>
</span><span id="UiLoader.get_ui-561"><a href="#UiLoader.get_ui-561"><span class="linenos">561</span></a>        <span class="k">return</span> <span class="n">ui</span>
</span></pre></div>


            <div class="docstring"><p><strong>Returns:</strong></p>

<ul>
<li><code>UI</code> The UI object containing the metadata.</li>
</ul>

<p>Return a UI object (special dictionary) containing the screen dimensions and all widget position metadata required for bounding box annotation.</p>
</div>


                            </div>
                            <div id="UiLoader.cleanup" class="classattr">
                                        <input id="UiLoader.cleanup-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">cleanup</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="UiLoader.cleanup-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UiLoader.cleanup"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UiLoader.cleanup-563"><a href="#UiLoader.cleanup-563"><span class="linenos">563</span></a>    <span class="k">def</span> <span class="nf">cleanup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="UiLoader.cleanup-564"><a href="#UiLoader.cleanup-564"><span class="linenos">564</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UiLoader.cleanup-565"><a href="#UiLoader.cleanup-565"><span class="linenos">565</span></a><span class="sd">        Cleanup the screen and widgets, destroying all created objects.</span>
</span><span id="UiLoader.cleanup-566"><a href="#UiLoader.cleanup-566"><span class="linenos">566</span></a><span class="sd">        Note that this function will cause a known error when sub-widgets are indirectly deleted by destroying their parent container.</span>
</span><span id="UiLoader.cleanup-567"><a href="#UiLoader.cleanup-567"><span class="linenos">567</span></a><span class="sd">        That error is safe to ignore, as the widgets should be properly deleted by LVGL.</span>
</span><span id="UiLoader.cleanup-568"><a href="#UiLoader.cleanup-568"><span class="linenos">568</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="UiLoader.cleanup-569"><a href="#UiLoader.cleanup-569"><span class="linenos">569</span></a>        <span class="c1"># Cleanup the screen and widgets (passing twice to delete widgets before containers)</span>
</span><span id="UiLoader.cleanup-570"><a href="#UiLoader.cleanup-570"><span class="linenos">570</span></a>        <span class="k">for</span> <span class="nb">id</span><span class="p">,</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="UiLoader.cleanup-571"><a href="#UiLoader.cleanup-571"><span class="linenos">571</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="UiLoader.cleanup-572"><a href="#UiLoader.cleanup-572"><span class="linenos">572</span></a>                <span class="n">widget</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</span><span id="UiLoader.cleanup-573"><a href="#UiLoader.cleanup-573"><span class="linenos">573</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</span><span id="UiLoader.cleanup-574"><a href="#UiLoader.cleanup-574"><span class="linenos">574</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="UiLoader.cleanup-575"><a href="#UiLoader.cleanup-575"><span class="linenos">575</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error deleting widget </span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Cleanup the screen and widgets, destroying all created objects.
Note that this function will cause a known error when sub-widgets are indirectly deleted by destroying their parent container.
That error is safe to ignore, as the widgets should be properly deleted by LVGL.</p>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>